(()=>{var b={"./dist/Serial.js"(e,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Serial=void 0;let f=c(/*! readable-web-to-node-stream */ "./node_modules/readable-web-to-node-stream/lib/index.js");class b{async close(){if(this.reader){let a=this.reader;this.reader=void 0,await a.reader.cancel()}if(this.writer){let b=this.writer;this.writer=void 0,await b.close()}if(this.port){let c=this.port;this.port=void 0,await c.close()}}async connectWithPaired(b){let[a]=await navigator.serial.getPorts();if(!a)throw new Error("no paired");return this._connect(b,a)}async connect(a,b={}){let c=await navigator.serial.requestPort(b);return this._connect(a,c)}async _connect(a,c){a={baudRate:9600,dataBits:8,stopBits:1,parity:"none",bufferSize:255,rtscts:!1,xon:!1,xoff:!1,...a},this.port&&await this.close(),this.port=c,await this.port.open(a),this.reader=new f.ReadableWebToNodeStream(this.port.readable),this.writer=this.port.writable.getWriter();let b=this.reader;return b.write=(a,b)=>(this.writer.write(a).then(()=>b(null),b),!0),b}}a.Serial=b;let d=new b;a.default=d},"./dist/index.js":function(g,a,b){"use strict";var c=b(/*! buffer */ "./node_modules/buffer/index.js").Buffer,h=this&&this.__createBinding||(Object.create?function(b,d,c,a){void 0===a&&(a=c),Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[c]}})}:function(c,d,b,a){void 0===a&&(a=b),c[a]=d[b]}),i=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&h(b,a,c);return i(b,a),b},d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(a,"__esModule",{value:!0}),a.upload=a.boards=void 0;let j=d(b(/*! ./Serial */ "./dist/Serial.js")),k=d(b(/*! async */ "./node_modules/async/dist/async.mjs")),l=f(b(/*! intel-hex */ "./node_modules/intel-hex/index.js")),m=d(b(/*! stk500 */ "./node_modules/stk500/index.js")),{version:n}=b(/*! ../package.json */ "./package.json");a.boards={avr4809:{signature:c.from([30,150,81]),pageSize:128,timeout:400,baudRate:115200,use_8_bit_addresseses:!0},lgt8f328p:{signature:c.from([30,149,15]),pageSize:128,timeout:400,baudRate:57600},nanoOldBootloader:{signature:c.from([30,149,15]),pageSize:128,timeout:400,baudRate:57600},nano:{signature:c.from([30,149,15]),pageSize:128,timeout:400,baudRate:115200},uno:{signature:c.from([30,149,15]),pageSize:128,timeout:400,baudRate:115200},proMini:{signature:c.from([30,149,15]),pageSize:128,timeout:400,baudRate:115200}};let o=a=>a();async function e(b,f,g,e=!1,h={}){try{let{data:d}=l.parse(f),c=await j.default.connect({baudRate:b.baudRate},h);g(0);let a=new m.default,n=0,i=d.length/b.pageSize;e&&(i*=2),a.log=a=>{if("page done"===a||"verify done"===a){n+=1;let b=Math.round(100*n/i);g(b)}},await k.default.series([a.sync.bind(a,c,3,b.timeout),a.sync.bind(a,c,3,b.timeout),a.sync.bind(a,c,3,b.timeout),a.verifySignature.bind(a,c,b.signature,b.timeout),a.setOptions.bind(a,c,{},b.timeout),a.enterProgrammingMode.bind(a,c,b.timeout),a.upload.bind(a,c,d,b.pageSize,b.timeout,b.use_8_bit_addresseses),e?a.verify.bind(a,c,d,b.pageSize,b.timeout,b.use_8_bit_addresseses):o,a.exitProgrammingMode.bind(a,c,b.timeout),])}finally{j.default.close()}}a.upload=e,a.default=e},"./node_modules/base64-js/index.js"(g,b){"use strict";b.byteLength=function(c){var a=i(c),d=a[0],b=a[1];return(d+b)*3/4-b},b.toByteArray=function(b){var d,a,m,k,l=i(b),j=l[0],g=l[1],e=new h(((m=j)+(k=g))*3/4-k),f=0,n=g>0?j-4:j;for(a=0;a<n;a+=4)d=c[b.charCodeAt(a)]<<18|c[b.charCodeAt(a+1)]<<12|c[b.charCodeAt(a+2)]<<6|c[b.charCodeAt(a+3)],e[f++]=d>>16&255,e[f++]=d>>8&255,e[f++]=255&d;return 2===g&&(d=c[b.charCodeAt(a)]<<2|c[b.charCodeAt(a+1)]>>4,e[f++]=255&d),1===g&&(d=c[b.charCodeAt(a)]<<10|c[b.charCodeAt(a+1)]<<4|c[b.charCodeAt(a+2)]>>2,e[f++]=d>>8&255,e[f++]=255&d),e},b.fromByteArray=function(b){for(var a,c=b.length,g=c%3,f=[],d=0,h=c-g;d<h;d+=16383)f.push(k(b,d,d+16383>h?h:d+16383));return 1===g?(a=b[c-1],f.push(e[a>>2]+e[a<<4&63]+"==")):2===g&&(a=(b[c-2]<<8)+b[c-1],f.push(e[a>>10]+e[a>>4&63]+e[a<<2&63]+"=")),f.join("")};for(var e=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,f=d.length;a<f;++a)e[a]=d[a],c[d.charCodeAt(a)]=a;function i(c){var b=c.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=c.indexOf("=");return -1===a&&(a=b),[a,a===b?0:4-a%4]}function j(a){return e[a>>18&63]+e[a>>12&63]+e[a>>6&63]+e[63&a]}function k(b,e,f){for(var c,d=[],a=e;a<f;a+=3)c=(b[a]<<16&16711680)+(b[a+1]<<8&65280)+(255&b[a+2]),d.push(j(c));return d.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js"(f,b,c){"use strict";/*!
         * The buffer module from node.js, for the browser.* @author   Feross Aboukhadijeh <https://feross.org>         * @license  MIT
         */ /* eslint-disable no-proto */ var g=c(/*! base64-js */ "./node_modules/base64-js/index.js"),h=c(/*! ieee754 */ "./node_modules/ieee754/index.js"),d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(b){if(b>2147483647)throw new RangeError('The value "'+b+'" is invalid for option "size"');var c=new Uint8Array(b);return Object.setPrototypeOf(c,a.prototype),c}function a(a,b,c){if("number"==typeof a){if("string"==typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return l(a)}return j(a,b,c)}function j(b,c,d){if("string"==typeof b)return m(b,c);if(ArrayBuffer.isView(b))return n(b);if(null==b)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(T(b,ArrayBuffer)||b&&T(b.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(T(b,SharedArrayBuffer)||b&&T(b.buffer,SharedArrayBuffer)))return o(b,c,d);if("number"==typeof b)throw new TypeError('The "value" argument must not be of type number. Received type number');var e=b.valueOf&&b.valueOf();if(null!=e&&e!==b)return a.from(e,c,d);var f=p(b);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof b[Symbol.toPrimitive])return a.from(b[Symbol.toPrimitive]("string"),c,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}function k(a){if("number"!=typeof a)throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function l(a){return k(a),i(a<0?0:0|q(a))}function m(d,b){if(("string"!=typeof b||""===b)&&(b="utf8"),!a.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var f=0|e(d,b),c=i(f),g=c.write(d,b);return g!==f&&(c=c.slice(0,g)),c}function n(b){for(var c=b.length<0?0:0|q(b.length),d=i(c),a=0;a<c;a+=1)d[a]=255&b[a];return d}function o(c,b,d){var e;if(b<0||c.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<b+(d||0))throw new RangeError('"length" is outside of buffer bounds');return e=void 0===b&& void 0===d?new Uint8Array(c):void 0===d?new Uint8Array(c,b):new Uint8Array(c,b,d),Object.setPrototypeOf(e,a.prototype),e}function p(b){if(a.isBuffer(b)){var d,e=0|q(b.length),c=i(e);return 0===c.length||b.copy(c,0,0,e),c}return void 0!==b.length?"number"!=typeof b.length||(d=b.length)!=d?i(0):n(b):"Buffer"===b.type&&Array.isArray(b.data)?n(b.data):void 0}function q(a){if(a>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|a}function e(b,d){if(a.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||T(b,ArrayBuffer))return b.byteLength;if("string"!=typeof b)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var c=b.length,e=arguments.length>2&& !0===arguments[2];if(!e&&0===c)return 0;for(var f=!1;;)switch(d){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return O(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return R(b).length;default:if(f)return e?-1:O(b).length;d=(""+d).toLowerCase(),f=!0}}function r(c,a,b){var d=!1;if((void 0===a||a<0)&&(a=0),a>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0||(b>>>=0)<=(a>>>=0)))return"";for(c||(c="utf8");;)switch(c){case"hex":return G(this,a,b);case"utf8":case"utf-8":return C(this,a,b);case"ascii":return E(this,a,b);case"latin1":case"binary":return F(this,a,b);case"base64":return B(this,a,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,a,b);default:if(d)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(d,c,b,f,e){var g;if(0===d.length)return -1;if("string"==typeof b?(f=b,b=0):b>2147483647?b=2147483647:b< -2147483648&&(b=-2147483648),(g=b=+b)!=g&&(b=e?0:d.length-1),b<0&&(b=d.length+b),b>=d.length){if(e)return -1;b=d.length-1}else if(b<0){if(!e)return -1;b=0}if("string"==typeof c&&(c=a.from(c,f)),a.isBuffer(c))return 0===c.length?-1:u(d,c,b,f,e);if("number"==typeof c)return(c&=255,"function"==typeof Uint8Array.prototype.indexOf)?e?Uint8Array.prototype.indexOf.call(d,c,b):Uint8Array.prototype.lastIndexOf.call(d,c,b):u(d,[c],b,f,e);throw new TypeError("val must be string, number or Buffer")}function u(f,g,d,c,m){var a,k=1,h=f.length,e=g.length;if(void 0!==c&&("ucs2"===(c=String(c).toLowerCase())||"ucs-2"===c||"utf16le"===c||"utf-16le"===c)){if(f.length<2||g.length<2)return -1;k=2,h/=2,e/=2,d/=2}function i(a,b){return 1===k?a[b]:a.readUInt16BE(b*k)}if(m){var b=-1;for(a=d;a<h;a++)if(i(f,a)===i(g,-1===b?0:a-b)){if(-1===b&&(b=a),a-b+1===e)return b*k}else -1!==b&&(a-=a-b),b=-1}else for(d+e>h&&(d=h-e),a=d;a>=0;a--){for(var l=!0,j=0;j<e;j++)if(i(f,a+j)!==i(g,j)){l=!1;break}if(l)return a}return -1}function v(e,f,c,a){c=Number(c)||0;var d=e.length-c;a?(a=Number(a))>d&&(a=d):a=d;var g=f.length;a>g/2&&(a=g/2);for(var b=0;b<a;++b){var h,i=parseInt(f.substr(2*b,2),16);if((h=i)!=h)break;e[c+b]=i}return b}function w(a,c,b,d){return S(O(c,a.length-b),a,b,d)}function x(a,b,c,d){return S(P(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return S(R(b),a,c,d)}function A(a,c,b,d){return S(Q(c,a.length-b),a,b,d)}function B(a,b,c){return 0===b&&c===a.length?g.fromByteArray(a):g.fromByteArray(a.slice(b,c))}function C(d,l,h){h=Math.min(d.length,h);for(var j=[],b=l;b<h;){var e,g,k,c,f=d[b],a=null,i=f>239?4:f>223?3:f>191?2:1;if(b+i<=h)switch(i){case 1:f<128&&(a=f);break;case 2:(192&(e=d[b+1]))==128&&(c=(31&f)<<6|63&e)>127&&(a=c);break;case 3:e=d[b+1],g=d[b+2],(192&e)==128&&(192&g)==128&&(c=(15&f)<<12|(63&e)<<6|63&g)>2047&&(c<55296||c>57343)&&(a=c);break;case 4:e=d[b+1],g=d[b+2],k=d[b+3],(192&e)==128&&(192&g)==128&&(192&k)==128&&(c=(15&f)<<18|(63&e)<<12|(63&g)<<6|63&k)>65535&&c<1114112&&(a=c)}null===a?(a=65533,i=1):a>65535&&(a-=65536,j.push(a>>>10&1023|55296),a=56320|1023&a),j.push(a),b+=i}return D(j)}function D(a){var c=a.length;if(c<=4096)return String.fromCharCode.apply(String,a);for(var d="",b=0;b<c;)d+=String.fromCharCode.apply(String,a.slice(b,b+=4096));return d}function E(c,e,a){var d="";a=Math.min(c.length,a);for(var b=e;b<a;++b)d+=String.fromCharCode(127&c[b]);return d}function F(c,e,a){var d="";a=Math.min(c.length,a);for(var b=e;b<a;++b)d+=String.fromCharCode(c[b]);return d}function G(d,b,a){var e=d.length;(!b||b<0)&&(b=0),(!a||a<0||a>e)&&(a=e);for(var f="",c=b;c<a;++c)f+=U[d[c]];return f}function H(d,e,f){for(var b=d.slice(e,f),c="",a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(b,c,d,e,f,g){if(!a.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>f||c<g)throw new RangeError('"value" argument is out of bounds');if(d+e>b.length)throw new RangeError("Index out of range")}function K(b,d,a,c,e,f){if(a+c>b.length||a<0)throw new RangeError("Index out of range")}function L(c,a,b,d,e){return a=+a,b>>>=0,e||K(c,a,b,4,34028234663852886e22,-34028234663852886e22),h.write(c,a,b,d,23,4),b+4}function M(c,a,b,d,e){return a=+a,b>>>=0,e||K(c,a,b,8,17976931348623157e292,-17976931348623157e292),h.write(c,a,b,d,52,8),b+8}b.Buffer=a,b.SlowBuffer=function(b){return+b!=b&&(b=0),a.alloc(+b)},b.INSPECT_MAX_BYTES=50,b.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var a=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(a,b),42===a.foo()}catch(c){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(a,b,c){return j(a,b,c)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(d,e,f){var a,b,c;return a=d,b=e,c=f,(k(a),a<=0)?i(a):void 0!==b?"string"==typeof c?i(a).fill(b,c):i(a).fill(b):i(a)},a.allocUnsafe=function(a){return l(a)},a.allocUnsafeSlow=function(a){return l(a)},a.isBuffer=function(b){return null!=b&& !0===b._isBuffer&&b!==a.prototype},a.compare=function(b,c){if(T(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),T(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(b)||!a.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===c)return 0;for(var e=b.length,f=c.length,d=0,g=Math.min(e,f);d<g;++d)if(b[d]!==c[d]){e=b[d],f=c[d];break}return e<f?-1:f<e?1:0},a.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(b,d){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(0===b.length)return a.alloc(0);if(void 0===d)for(e=0,d=0;e<b.length;++e)d+=b[e].length;var e,f=a.allocUnsafe(d),g=0;for(e=0;e<b.length;++e){var c=b[e];if(T(c,Uint8Array)&&(c=a.from(c)),!a.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(f,g),g+=c.length}return f},a.byteLength=e,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<b;a+=2)s(this,a,a+1);return this},a.prototype.swap32=function(){var b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<b;a+=4)s(this,a,a+3),s(this,a+1,a+2);return this},a.prototype.swap64=function(){var b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<b;a+=8)s(this,a,a+7),s(this,a+1,a+6),s(this,a+2,a+5),s(this,a+3,a+4);return this},a.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===a.compare(this,b)},a.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return a=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(a+=" ... "),"<Buffer "+a+">"},d&&(a.prototype[d]=a.prototype.inspect),a.prototype.compare=function(b,c,d,e,f){if(T(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(void 0===c&&(c=0),void 0===d&&(d=b?b.length:0),void 0===e&&(e=0),void 0===f&&(f=this.length),c<0||d>b.length||e<0||f>this.length)throw new RangeError("out of range index");if(e>=f&&c>=d)return 0;if(e>=f)return -1;if(c>=d)return 1;if(c>>>=0,d>>>=0,e>>>=0,f>>>=0,this===b)return 0;for(var h=f-e,i=d-c,l=Math.min(h,i),j=this.slice(e,f),k=b.slice(c,d),g=0;g<l;++g)if(j[g]!==k[g]){h=j[g],i=k[g];break}return h<i?-1:i<h?1:0},a.prototype.includes=function(a,b,c){return -1!==this.indexOf(a,b,c)},a.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},a.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},a.prototype.write=function(d,b,a,c){if(void 0===b)c="utf8",a=this.length,b=0;else if(void 0===a&&"string"==typeof b)c=b,a=this.length,b=0;else if(isFinite(b))b>>>=0,isFinite(a)?(a>>>=0,void 0===c&&(c="utf8")):(c=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var e=this.length-b;if((void 0===a||a>e)&&(a=e),d.length>0&&(a<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");for(var f=!1;;)switch(c){case"hex":return v(this,d,b,a);case"utf8":case"utf-8":return w(this,d,b,a);case"ascii":return x(this,d,b,a);case"latin1":case"binary":return y(this,d,b,a);case"base64":return z(this,d,b,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,d,b,a);default:if(f)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(c,b){var d=this.length;c=~~c,b=void 0===b?d:~~b,c<0?(c+=d)<0&&(c=0):c>d&&(c=d),b<0?(b+=d)<0&&(b=0):b>d&&(b=d),b<c&&(b=c);var e=this.subarray(c,b);return Object.setPrototypeOf(e,a.prototype),e},a.prototype.readUIntLE=function(a,b,f){a>>>=0,b>>>=0,f||I(a,b,this.length);for(var c=this[a],d=1,e=0;++e<b&&(d*=256);)c+=this[a+e]*d;return c},a.prototype.readUIntBE=function(b,a,e){b>>>=0,a>>>=0,e||I(b,a,this.length);for(var c=this[b+ --a],d=1;a>0&&(d*=256);)c+=this[b+ --a]*d;return c},a.prototype.readUInt8=function(a,b){return a>>>=0,b||I(a,1,this.length),this[a]},a.prototype.readUInt16LE=function(a,b){return a>>>=0,b||I(a,2,this.length),this[a]|this[a+1]<<8},a.prototype.readUInt16BE=function(a,b){return a>>>=0,b||I(a,2,this.length),this[a]<<8|this[a+1]},a.prototype.readUInt32LE=function(a,b){return a>>>=0,b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},a.prototype.readUInt32BE=function(a,b){return a>>>=0,b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},a.prototype.readIntLE=function(a,b,f){a>>>=0,b>>>=0,f||I(a,b,this.length);for(var c=this[a],d=1,e=0;++e<b&&(d*=256);)c+=this[a+e]*d;return c>=(d*=128)&&(c-=Math.pow(2,8*b)),c},a.prototype.readIntBE=function(a,b,f){a>>>=0,b>>>=0,f||I(a,b,this.length);for(var d=b,e=1,c=this[a+ --d];d>0&&(e*=256);)c+=this[a+ --d]*e;return c>=(e*=128)&&(c-=Math.pow(2,8*b)),c},a.prototype.readInt8=function(a,b){return(a>>>=0,b||I(a,1,this.length),128&this[a])?-((255-this[a]+1)*1):this[a]},a.prototype.readInt16LE=function(a,c){a>>>=0,c||I(a,2,this.length);var b=this[a]|this[a+1]<<8;return 32768&b?4294901760|b:b},a.prototype.readInt16BE=function(a,c){a>>>=0,c||I(a,2,this.length);var b=this[a+1]|this[a]<<8;return 32768&b?4294901760|b:b},a.prototype.readInt32LE=function(a,b){return a>>>=0,b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},a.prototype.readInt32BE=function(a,b){return a>>>=0,b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},a.prototype.readFloatLE=function(a,b){return a>>>=0,b||I(a,4,this.length),h.read(this,a,!0,23,4)},a.prototype.readFloatBE=function(a,b){return a>>>=0,b||I(a,4,this.length),h.read(this,a,!1,23,4)},a.prototype.readDoubleLE=function(a,b){return a>>>=0,b||I(a,8,this.length),h.read(this,a,!0,52,8)},a.prototype.readDoubleBE=function(a,b){return a>>>=0,b||I(a,8,this.length),h.read(this,a,!1,52,8)},a.prototype.writeUIntLE=function(a,b,c,f){if(a=+a,b>>>=0,c>>>=0,!f){var g=Math.pow(2,8*c)-1;J(this,a,b,c,g,0)}var d=1,e=0;for(this[b]=255&a;++e<c&&(d*=256);)this[b+e]=a/d&255;return b+c},a.prototype.writeUIntBE=function(a,b,c,f){if(a=+a,b>>>=0,c>>>=0,!f){var g=Math.pow(2,8*c)-1;J(this,a,b,c,g,0)}var d=c-1,e=1;for(this[b+d]=255&a;--d>=0&&(e*=256);)this[b+d]=a/e&255;return b+c},a.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,1,255,0),this[b]=255&a,b+1},a.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},a.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},a.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,4294967295,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},a.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,4294967295,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},a.prototype.writeIntLE=function(a,b,c,h){if(a=+a,b>>>=0,!h){var f=Math.pow(2,8*c-1);J(this,a,b,c,f-1,-f)}var d=0,g=1,e=0;for(this[b]=255&a;++d<c&&(g*=256);)a<0&&0===e&&0!==this[b+d-1]&&(e=1),this[b+d]=(a/g>>0)-e&255;return b+c},a.prototype.writeIntBE=function(a,b,c,h){if(a=+a,b>>>=0,!h){var f=Math.pow(2,8*c-1);J(this,a,b,c,f-1,-f)}var d=c-1,g=1,e=0;for(this[b+d]=255&a;--d>=0&&(g*=256);)a<0&&0===e&&0!==this[b+d+1]&&(e=1),this[b+d]=(a/g>>0)-e&255;return b+c},a.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},a.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},a.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},a.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,2147483647,-2147483648),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},a.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},a.prototype.writeFloatLE=function(a,b,c){return L(this,a,b,!0,c)},a.prototype.writeFloatBE=function(a,b,c){return L(this,a,b,!1,c)},a.prototype.writeDoubleLE=function(a,b,c){return M(this,a,b,!0,c)},a.prototype.writeDoubleBE=function(a,b,c){return M(this,a,b,!1,c)},a.prototype.copy=function(e,d,c,b){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(c||(c=0),b||0===b||(b=this.length),d>=e.length&&(d=e.length),d||(d=0),b>0&&b<c&&(b=c),b===c||0===e.length||0===this.length)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),e.length-d<b-c&&(b=e.length-d+c);var g=b-c;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(d,c,b);else if(this===e&&c<d&&d<b)for(var f=g-1;f>=0;--f)e[f+d]=this[f+c];else Uint8Array.prototype.set.call(e,this.subarray(c,b),d);return g},a.prototype.fill=function(b,d,c,e){if("string"==typeof b){if("string"==typeof d?(e=d,d=0,c=this.length):"string"==typeof c&&(e=c,c=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===b.length){var f,g=b.charCodeAt(0);("utf8"===e&&g<128||"latin1"===e)&&(b=g)}}else"number"==typeof b?b&=255:"boolean"==typeof b&&(b=Number(b));if(d<0||this.length<d||this.length<c)throw new RangeError("Out of range index");if(c<=d)return this;if(d>>>=0,c=void 0===c?this.length:c>>>0,b||(b=0),"number"==typeof b)for(f=d;f<c;++f)this[f]=b;else{var h=a.isBuffer(b)?b:a.from(b,e),i=h.length;if(0===i)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(f=0;f<c-d;++f)this[f+d]=h[f%i]}return this};var N=/[^+/0-9A-Za-z-_]/g;function O(f,b){b=b||1/0;for(var a,g=f.length,d=null,c=[],e=0;e<g;++e){if((a=f.charCodeAt(e))>55295&&a<57344){if(!d){if(a>56319||e+1===g){(b-=3)> -1&&c.push(239,191,189);continue}d=a;continue}if(a<56320){(b-=3)> -1&&c.push(239,191,189),d=a;continue}a=(d-55296<<10|a-56320)+65536}else d&&(b-=3)> -1&&c.push(239,191,189);if(d=null,a<128){if((b-=1)<0)break;c.push(a)}else if(a<2048){if((b-=2)<0)break;c.push(a>>6|192,63&a|128)}else if(a<65536){if((b-=3)<0)break;c.push(a>>12|224,a>>6&63|128,63&a|128)}else if(a<1114112){if((b-=4)<0)break;c.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}else throw new Error("Invalid code point")}return c}function P(b){for(var c=[],a=0;a<b.length;++a)c.push(255&b.charCodeAt(a));return c}function Q(c,g){for(var d,e,f,a=[],b=0;b<c.length&&!((g-=2)<0);++b)e=(d=c.charCodeAt(b))>>8,f=d%256,a.push(f),a.push(e);return a}function R(a){return g.toByteArray(function(a){if((a=(a=a.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(a))}function S(b,c,d,e){for(var a=0;a<e&& !(a+d>=c.length)&&!(a>=b.length);++a)c[a+d]=b[a];return a}function T(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}var U=function(){for(var c="0123456789abcdef",d=new Array(256),a=0;a<16;++a)for(var e=16*a,b=0;b<16;++b)d[e+b]=c[a]+c[b];return d}()},"./node_modules/events/events.js"(c){"use strict";var d,b="object"==typeof Reflect?Reflect:null,f=b&&"function"==typeof b.apply?b.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)};d=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var g=Number.isNaN||function(a){return a!=a};function a(){a.init.call(this)}c.exports=a,c.exports.once=function(a,b){return new Promise(function(e,f){var c;function d(){void 0!==c&&a.removeListener("error",c),e([].slice.call(arguments))}"error"!==b&&(c=function(c){a.removeListener(b,d),f(c)},a.once("error",c)),a.once(b,d)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var h=10;function i(a){if("function"!=typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function j(b){return void 0===b._maxListeners?a.defaultMaxListeners:b._maxListeners}function k(a,c,b,e){if(i(b),void 0===(k=a._events)?(k=a._events=Object.create(null),a._eventsCount=0):(void 0!==k.newListener&&(a.emit("newListener",c,b.listener?b.listener:b),k=a._events),f=k[c]),void 0===f)f=k[c]=b,++a._eventsCount;else if("function"==typeof f?f=k[c]=e?[b,f]:[f,b]:e?f.unshift(b):f.push(b),(h=j(a))>0&&f.length>h&&!f.warned){f.warned=!0;var h,k,f,g,d=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=a,d.type=c,d.count=f.length,g=d,console&&console.warn&&console.warn(g)}return a}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(d,e,b){var c={fired:!1,wrapFn:void 0,target:d,type:e,listener:b},a=l.bind(c);return a.listener=b,c.wrapFn=a,a}function n(d,e,b){var c=d._events;if(void 0===c)return[];var a=c[e];return void 0===a?[]:"function"==typeof a?b?[a.listener||a]:[a]:b?p(a):o(a,a.length)}function e(c){var b=this._events;if(void 0!==b){var a=b[c];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function o(d,b){for(var c=new Array(b),a=0;a<b;++a)c[a]=d[a];return c}function p(b){for(var c=new Array(b.length),a=0;a<c.length;++a)c[a]=b[a].listener||b[a];return c}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(a){if("number"!=typeof a||a<0||g(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");h=a}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||g(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},a.prototype.getMaxListeners=function(){return j(this)},a.prototype.emit=function(h){for(var b=[],a=1;a<arguments.length;a++)b.push(arguments[a]);var d="error"===h,e=this._events;if(void 0!==e)d=d&& void 0===e.error;else if(!d)return!1;if(d){if(b.length>0&&(g=b[0]),g instanceof Error)throw g;var g,i=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw i.context=g,i}var c=e[h];if(void 0===c)return!1;if("function"==typeof c)f(c,this,b);else for(var j=c.length,k=o(c,j),a=0;a<j;++a)f(k[a],this,b);return!0},a.prototype.addListener=function(a,b){return k(this,a,b,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(a,b){return k(this,a,b,!0)},a.prototype.once=function(a,b){return i(b),this.on(a,m(this,a,b)),this},a.prototype.prependOnceListener=function(a,b){return i(b),this.prependListener(a,m(this,a,b)),this},a.prototype.removeListener=function(e,b){var a,d,f,c,g;if(i(b),void 0===(d=this._events)|| void 0===(a=d[e]))return this;if(a===b||a.listener===b)0== --this._eventsCount?this._events=Object.create(null):(delete d[e],d.removeListener&&this.emit("removeListener",e,a.listener||b));else if("function"!=typeof a){for(f=-1,c=a.length-1;c>=0;c--)if(a[c]===b||a[c].listener===b){g=a[c].listener,f=c;break}if(f<0)return this;0===f?a.shift():function(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}(a,f),1===a.length&&(d[e]=a[0]),void 0!==d.removeListener&&this.emit("removeListener",e,g||b)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(c){var d,b,a;if(void 0===(b=this._events))return this;if(void 0===b.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==b[c]&&(0== --this._eventsCount?this._events=Object.create(null):delete b[c]),this;if(0===arguments.length){var e,f=Object.keys(b);for(a=0;a<f.length;++a)"removeListener"!==(e=f[a])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(d=b[c]))this.removeListener(c,d);else if(void 0!==d)for(a=d.length-1;a>=0;a--)this.removeListener(c,d[a]);return this},a.prototype.listeners=function(a){return n(this,a,!0)},a.prototype.rawListeners=function(a){return n(this,a,!1)},a.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):e.call(a,b)},a.prototype.listenerCount=e,a.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},"./node_modules/ieee754/index.js"(b,a){a.read=function(g,h,j,e,k){var a,c,l=8*k-e-1,m=(1<<l)-1,n=m>>1,b=-7,d=j?k-1:0,i=j?-1:1,f=g[h+d];for(d+=i,a=f&(1<< -b)-1,f>>=-b,b+=l;b>0;a=256*a+g[h+d],d+=i,b-=8);for(c=a&(1<< -b)-1,a>>=-b,b+=e;b>0;c=256*c+g[h+d],d+=i,b-=8);if(0===a)a=1-n;else{if(a===m)return c?NaN:(f?-1:1)*(1/0);c+=Math.pow(2,e),a-=n}return(f?-1:1)*c*Math.pow(2,a-e)},a.write=function(j,b,k,m,c,n){var a,d,e,h=8*n-c-1,i=(1<<h)-1,f=i>>1,o=23===c?5960464477539062e-23:0,g=m?0:n-1,l=m?1:-1,p=b<0||0===b&&1/b<0?1:0;for(isNaN(b=Math.abs(b))||b===1/0?(d=isNaN(b)?1:0,a=i):(a=Math.floor(Math.log(b)/Math.LN2),b*(e=Math.pow(2,-a))<1&&(a--,e*=2),a+f>=1?b+=o/e:b+=o*Math.pow(2,1-f),b*e>=2&&(a++,e/=2),a+f>=i?(d=0,a=i):a+f>=1?(d=(b*e-1)*Math.pow(2,c),a+=f):(d=b*Math.pow(2,f-1)*Math.pow(2,c),a=0));c>=8;j[k+g]=255&d,g+=l,d/=256,c-=8);for(a=a<<c|d,h+=c;h>0;j[k+g]=255&a,g+=l,a/=256,h-=8);j[k+g-l]|=128*p}},"./node_modules/inherits/inherits_browser.js"(a){"function"==typeof Object.create?a.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}},"./node_modules/intel-hex/index.js"(c,a,b){var d=b(/*! buffer */ "./node_modules/buffer/index.js").Buffer;a.parse=function(b,t){b instanceof d&&(b=b.toString("ascii"));for(var g=d.alloc(t||8192),h=0,l=0,o=null,p=null,e=0,a=0;a+11<=b.length;){if(":"!=b.charAt(a++))throw new Error("Line "+(e+1)+" does not start with a colon (:).");e++;var c=parseInt(b.substr(a,2),16);a+=2;var f=parseInt(b.substr(a,4),16);a+=4;var m=parseInt(b.substr(a,2),16);a+=2;var j=b.substr(a,2*c),q=d.from(j,"hex");a+=2*c;var r=parseInt(b.substr(a,2),16);a+=2;for(var k=c+(f>>8)+f+m&255,n=0;n<c;n++)k=k+q[n]&255;if(r!=(k=256-k&255))throw new Error("Invalid checksum on line "+e+": got "+r+", but expected "+k);switch(m){case 0:var i=l+f;if(i+c>=g.length){var s=d.alloc((i+c)*2);g.copy(s,0,0,h),g=s}i>h&&g.fill(255,h,i),q.copy(g,i),h=Math.max(h,i+c);break;case 1:if(0!=c)throw new Error("Invalid EOF record on line "+e+".");return{data:g.slice(0,h),startSegmentAddress:o,startLinearAddress:p};case 2:if(2!=c||0!=f)throw new Error("Invalid extended segment address record on line "+e+".");l=parseInt(j,16)<<4;break;case 3:if(4!=c||0!=f)throw new Error("Invalid start segment address record on line "+e+".");o=parseInt(j,16);break;case 4:if(2!=c||0!=f)throw new Error("Invalid extended linear address record on line "+e+".");l=parseInt(j,16)<<16;break;case 5:if(4!=c||0!=f)throw new Error("Invalid start linear address record on line "+e+".");p=parseInt(j,16);break;default:throw new Error("Invalid record type ("+m+") on line "+e)}"\r"==b.charAt(a)&&a++,"\n"==b.charAt(a)&&a++}throw new Error("Unexpected end of input: missing or invalid EOF record.")}},"./node_modules/process/browser.js"(c){var e,f,g,a=c.exports={};function h(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function j(a){if(e===setTimeout)return setTimeout(a,0);if((e===h||!e)&&setTimeout)return e=setTimeout,setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(c){return e.call(this,a,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:h}catch(a){e=h}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(b){f=i}}();var k=[],l=!1,m=-1;function n(){l&&g&&(l=!1,g.length?k=g.concat(k):m=-1,k.length&&o())}function o(){if(!l){var b=j(n);l=!0;for(var a=k.length;a;){for(g=k,k=[];++m<a;)g&&g[m].run();m=-1,a=k.length}g=null,l=!1,function(a){if(f===clearTimeout)return clearTimeout(a);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(a);try{f(a)}catch(b){try{return f.call(null,a)}catch(c){return f.call(this,a)}}}(b)}}function d(a,b){this.fun=a,this.array=b}function b(){}a.nextTick=function(c){var b=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)b[a-1]=arguments[a];k.push(new d(c,b)),1!==k.length||l||j(o)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(a){return[]},a.binding=function(a){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(a){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},"./node_modules/readable-stream/errors-browser.js"(b){"use strict";var c={};function a(d,e,a){a||(a=Error);var b=function(d){var a,b;function c(f,g,h){var a,b,c;return d.call(this,(a=f,b=g,c=h,"string"==typeof e?e:e(a,b,c)))||this}return a=c,b=d,a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b,c}(a);b.prototype.name=a.name,b.prototype.code=d,c[d]=b}function d(a,b){if(!Array.isArray(a))return"of ".concat(b," ").concat(String(a));var c=a.length;return(a=a.map(function(a){return String(a)}),c>2)?"one of ".concat(b," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:2===c?"one of ".concat(b," ").concat(a[0]," or ").concat(a[1]):"of ".concat(b," ").concat(a[0])}a("ERR_INVALID_OPT_VALUE",function(a,b){return'The value "'+b+'" is invalid for option "'+a+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(b,a,h){if("string"==typeof a&&(l="not ",a.substr(!m||m<0?0:+m,l.length)===l)?(i="must not be",a=a.replace(/^not /,"")):i="must be",n=b,o=" argument",(void 0===p||p>n.length)&&(p=n.length),n.substring(p-o.length,p)===o)g="The ".concat(b," ").concat(i," ").concat(d(a,"type"));else{var k,l,m,n,o,p,e,f,c,i,g,j=(e=b,"number"!=typeof c&&(c=0),c+(f=".").length>e.length|| -1===e.indexOf(f,c))?"argument":"property";g='The "'.concat(b,'" ').concat(j," ").concat(i," ").concat(d(a,"type"))}return g+". Received type ".concat(typeof h)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),b.exports.codes=c},"./node_modules/readable-stream/lib/_stream_duplex.js"(g,j,a){"use strict";var k=a(/*! process */ "./node_modules/process/browser.js"),h=Object.keys||function(b){var a=[];for(var c in b)a.push(c);return a};g.exports=b;var i=a(/*! ./_stream_readable */ "./node_modules/readable-stream/lib/_stream_readable.js"),e=a(/*! ./_stream_writable */ "./node_modules/readable-stream/lib/_stream_writable.js");a(/*! inherits */ "./node_modules/inherits/inherits_browser.js")(b,i);for(var f=h(e.prototype),c=0;c<f.length;c++){var d=f[c];b.prototype[d]||(b.prototype[d]=e.prototype[d])}function b(a){if(!(this instanceof b))return new b(a);i.call(this,a),e.call(this,a),this.allowHalfOpen=!0,a&&(!1===a.readable&&(this.readable=!1),!1===a.writable&&(this.writable=!1),!1===a.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||k.nextTick(m,this)}function m(a){a.end()}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&& void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&& void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}})},"./node_modules/readable-stream/lib/_stream_passthrough.js"(c,e,a){"use strict";c.exports=b;var d=a(/*! ./_stream_transform */ "./node_modules/readable-stream/lib/_stream_transform.js");function b(a){if(!(this instanceof b))return new b(a);d.call(this,a)}a(/*! inherits */ "./node_modules/inherits/inherits_browser.js")(b,d),b.prototype._transform=function(a,c,b){b(null,a)}},"./node_modules/readable-stream/lib/_stream_readable.js"(f,j,b){"use strict";var k,g,l,m,n,o=b(/*! process */ "./node_modules/process/browser.js");f.exports=a,a.ReadableState=A,b(/*! events */ "./node_modules/events/events.js").EventEmitter;var p=function(a,b){return a.listeners(b).length},h=b(/*! ./internal/streams/stream */ "./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),q=b(/*! buffer */ "./node_modules/buffer/index.js").Buffer,r=b.g.Uint8Array||function(){},d=b(/*! util */ "?d17e");g=d&&d.debuglog?d.debuglog("stream"):function(){};var s=b(/*! ./internal/streams/buffer_list */ "./node_modules/readable-stream/lib/internal/streams/buffer_list.js"),e=b(/*! ./internal/streams/destroy */ "./node_modules/readable-stream/lib/internal/streams/destroy.js"),t=b(/*! ./internal/streams/state */ "./node_modules/readable-stream/lib/internal/streams/state.js").getHighWaterMark,c=b(/*! ../errors */ "./node_modules/readable-stream/errors-browser.js").codes,u=c.ERR_INVALID_ARG_TYPE,v=c.ERR_STREAM_PUSH_AFTER_EOF,w=c.ERR_METHOD_NOT_IMPLEMENTED,x=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;b(/*! inherits */ "./node_modules/inherits/inherits_browser.js")(a,h);var y=e.errorOrDestroy,z=["error","close","destroy","pause","resume"];function A(a,d,c){k=k||b(/*! ./_stream_duplex */ "./node_modules/readable-stream/lib/_stream_duplex.js"),a=a||{},"boolean"!=typeof c&&(c=d instanceof k),this.objectMode=!!a.objectMode,c&&(this.objectMode=this.objectMode||!!a.readableObjectMode),this.highWaterMark=t(this,a,"readableHighWaterMark",c),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(l||(l=b(/*! string_decoder/ */ "./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new l(a.encoding),this.encoding=a.encoding)}function a(c){if(k=k||b(/*! ./_stream_duplex */ "./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof a))return new a(c);var d=this instanceof k;this._readableState=new A(c,this,d),this.readable=!0,c&&("function"==typeof c.read&&(this._read=c.read),"function"==typeof c.destroy&&(this._destroy=c.destroy)),h.call(this)}function B(c,b,h,e,i){g("readableAddChunk",b);var f,d,a=c._readableState;if(null===b)a.reading=!1,F(c,a);else if(i||(d=D(a,b)),d)y(c,d);else if(a.objectMode||b&&b.length>0){if("string"==typeof b||a.objectMode||Object.getPrototypeOf(b)===q.prototype||(b=(f=b,q.from(f))),e)a.endEmitted?y(c,new x):C(c,a,b,!0);else if(a.ended)y(c,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!h?(b=a.decoder.write(b),a.objectMode||0!==b.length?C(c,a,b,!1):I(c,a)):C(c,a,b,!1)}}else e||(a.reading=!1,I(c,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function C(c,a,b,d){a.flowing&&0===a.length&&!a.sync?(a.awaitDrain=0,c.emit("data",b)):(a.length+=a.objectMode?1:b.length,d?a.buffer.unshift(b):a.buffer.push(b),a.needReadable&&G(c)),I(c,a)}function D(d,a){var c,b;return b=a,q.isBuffer(b)||b instanceof r||"string"==typeof a|| void 0===a||d.objectMode||(c=new u("chunk",["string","Buffer","Uint8Array"],a)),c}function E(c,b){if(c<=0||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(c!=c)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(c>b.highWaterMark){var a;b.highWaterMark=((a=c)>=1073741824?a=1073741824:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a)}return c<=b.length?c:b.ended?b.length:(b.needReadable=!0,0)}function F(c,a){if(g("onEofChunk"),!a.ended){if(a.decoder){var b=a.decoder.end();b&&b.length&&(a.buffer.push(b),a.length+=a.objectMode?1:b.length)}a.ended=!0,a.sync?G(c):(a.needReadable=!1,a.emittedReadable||(a.emittedReadable=!0,H(c)))}}function G(b){var a=b._readableState;g("emitReadable",a.needReadable,a.emittedReadable),a.needReadable=!1,a.emittedReadable||(g("emitReadable",a.flowing),a.emittedReadable=!0,o.nextTick(H,b))}function H(b){var a=b._readableState;g("emitReadable_",a.destroyed,a.length,a.ended),!a.destroyed&&(a.length||a.ended)&&(b.emit("readable"),a.emittedReadable=!1),a.needReadable=!a.flowing&&!a.ended&&a.length<=a.highWaterMark,N(b)}function I(b,a){a.readingMore||(a.readingMore=!0,o.nextTick(J,b,a))}function J(b,a){for(;!a.reading&&!a.ended&&(a.length<a.highWaterMark||a.flowing&&0===a.length);){var c=a.length;if(g("maybeReadMore read 0"),b.read(0),c===a.length)break}a.readingMore=!1}function K(a){var b=a._readableState;b.readableListening=a.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:a.listenerCount("data")>0&&a.resume()}function L(a){g("readable nexttick read 0"),a.read(0)}function M(b,a){g("resume",a.reading),a.reading||b.read(0),a.resumeScheduled=!1,b.emit("resume"),N(b),a.flowing&&!a.reading&&b.read(0)}function N(a){var b=a._readableState;for(g("flow",b.flowing);b.flowing&&null!==a.read(););}function i(c,a){var b;return 0===a.length?null:(a.objectMode?b=a.buffer.shift():!c||c>=a.length?(b=a.decoder?a.buffer.join(""):1===a.buffer.length?a.buffer.first():a.buffer.concat(a.length),a.buffer.clear()):b=a.buffer.consume(c,a.decoder),b)}function O(b){var a=b._readableState;g("endReadable",a.endEmitted),a.endEmitted||(a.ended=!0,o.nextTick(P,a,b))}function P(a,b){if(g("endReadableNT",a.endEmitted,a.length),!a.endEmitted&&0===a.length&&(a.endEmitted=!0,b.readable=!1,b.emit("end"),a.autoDestroy)){var c=b._writableState;(!c||c.autoDestroy&&c.finished)&&b.destroy()}}function Q(b,c){for(var a=0,d=b.length;a<d;a++)if(b[a]===c)return a;return -1}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),a.prototype.destroy=e.destroy,a.prototype._undestroy=e.undestroy,a.prototype._destroy=function(a,b){b(a)},a.prototype.push=function(b,a){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof b&&((a=a||d.defaultEncoding)!==d.encoding&&(b=q.from(b,a),a=""),c=!0),B(this,b,a,!1,c)},a.prototype.unshift=function(a){return B(this,a,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(e){l||(l=b(/*! string_decoder/ */ "./node_modules/string_decoder/lib/string_decoder.js").StringDecoder);var d=new l(e);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;for(var a=this._readableState.buffer.head,c="";null!==a;)c+=d.write(a.data),a=a.next;return this._readableState.buffer.clear(),""!==c&&this._readableState.buffer.push(c),this._readableState.length=c.length,this},a.prototype.read=function(b){g("read",b),b=parseInt(b,10);var c,a=this._readableState,e=b;if(0!==b&&(a.emittedReadable=!1),0===b&&a.needReadable&&((0!==a.highWaterMark?a.length>=a.highWaterMark:a.length>0)||a.ended))return g("read: emitReadable",a.length,a.ended),0===a.length&&a.ended?O(this):G(this),null;if(0===(b=E(b,a))&&a.ended)return 0===a.length&&O(this),null;var d=a.needReadable;return g("need readable",d),(0===a.length||a.length-b<a.highWaterMark)&&g("length less than watermark",d=!0),a.ended||a.reading?g("reading or ended",d=!1):d&&(g("do read"),a.reading=!0,a.sync=!0,0===a.length&&(a.needReadable=!0),this._read(a.highWaterMark),a.sync=!1,a.reading||(b=E(e,a))),null===(c=b>0?i(b,a):null)?(a.needReadable=a.length<=a.highWaterMark,b=0):(a.length-=b,a.awaitDrain=0),0===a.length&&(a.ended||(a.needReadable=!0),e!==b&&a.ended&&O(this)),null!==c&&this.emit("data",c),c},a.prototype._read=function(a){y(this,new w("_read()"))},a.prototype.pipe=function(a,d){var f,c=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=a;break;case 1:b.pipes=[b.pipes,a];break;default:b.pipes.push(a)}b.pipesCount+=1,g("pipe count=%d opts=%j",b.pipesCount,d);var e=d&& !1===d.end||a===o.stdout||a===o.stderr?s:n;function h(b,a){g("onunpipe"),b===c&&a&& !1===a.hasUnpiped&&(a.hasUnpiped=!0,r())}function n(){g("onend"),a.end()}b.endEmitted?o.nextTick(e):c.once("end",e),a.on("unpipe",h);var i=(f=c,function(){var a=f._readableState;g("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,0===a.awaitDrain&&p(f,"data")&&(a.flowing=!0,N(f))});a.on("drain",i);var q=!1;function r(){g("cleanup"),a.removeListener("close",l),a.removeListener("finish",m),a.removeListener("drain",i),a.removeListener("error",k),a.removeListener("unpipe",h),c.removeListener("end",n),c.removeListener("end",s),c.removeListener("data",j),q=!0,b.awaitDrain&&(!a._writableState||a._writableState.needDrain)&&i()}function j(e){g("ondata");var d=a.write(e);g("dest.write",d),!1===d&&((1===b.pipesCount&&b.pipes===a||b.pipesCount>1&& -1!==Q(b.pipes,a))&&!q&&(g("false write response, pause",b.awaitDrain),b.awaitDrain++),c.pause())}function k(b){g("onerror",b),s(),a.removeListener("error",k),0===p(a,"error")&&y(a,b)}function l(){a.removeListener("finish",m),s()}function m(){g("onfinish"),a.removeListener("close",l),s()}function s(){g("unpipe"),c.unpipe(a)}return c.on("data",j),function(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?Array.isArray(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}(a,"error",k),a.once("close",l),a.once("finish",m),a.emit("pipe",c),b.flowing||(g("pipe resume"),c.resume()),a},a.prototype.unpipe=function(b){var a=this._readableState,d={hasUnpiped:!1};if(0===a.pipesCount)return this;if(1===a.pipesCount)return b&&b!==a.pipes||(b||(b=a.pipes),a.pipes=null,a.pipesCount=0,a.flowing=!1,b&&b.emit("unpipe",this,d)),this;if(!b){var f=a.pipes,g=a.pipesCount;a.pipes=null,a.pipesCount=0,a.flowing=!1;for(var c=0;c<g;c++)f[c].emit("unpipe",this,{hasUnpiped:!1});return this}var e=Q(a.pipes,b);return -1===e||(a.pipes.splice(e,1),a.pipesCount-=1,1===a.pipesCount&&(a.pipes=a.pipes[0]),b.emit("unpipe",this,d)),this},a.prototype.on=function(b,c){var d=h.prototype.on.call(this,b,c),a=this._readableState;return"data"===b?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"!==b||a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,g("on readable",a.length,a.reading),a.length?G(this):a.reading||o.nextTick(L,this)),d},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(a,b){var c=h.prototype.removeListener.call(this,a,b);return"readable"===a&&o.nextTick(K,this),c},a.prototype.removeAllListeners=function(a){var b=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===a|| void 0===a)&&o.nextTick(K,this),b},a.prototype.resume=function(){var c,b,a=this._readableState;return a.flowing||(g("resume"),a.flowing=!a.readableListening,c=this,(b=a).resumeScheduled||(b.resumeScheduled=!0,o.nextTick(M,c,b))),a.paused=!1,this},a.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(a){var d=this,e=this._readableState,f=!1;for(var b in a.on("end",function(){if(g("wrapped end"),e.decoder&&!e.ended){var a=e.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(b){g("wrapped data"),e.decoder&&(b=e.decoder.write(b)),(!e.objectMode||null!=b)&&(e.objectMode||b&&b.length)&&(d.push(b)||(f=!0,a.pause()))}),a)void 0===this[b]&&"function"==typeof a[b]&&(this[b]=function(b){return function(){return a[b].apply(a,arguments)}}(b));for(var c=0;c<z.length;c++)a.on(z[c],this.emit.bind(this,z[c]));return this._read=function(b){g("wrapped _read",b),f&&(f=!1,a.resume())},this},"function"==typeof Symbol&&(a.prototype[Symbol.asyncIterator]=function(){return void 0===m&&(m=b(/*! ./internal/streams/async_iterator */ "./node_modules/readable-stream/lib/internal/streams/async_iterator.js")),m(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}}),a._fromList=i,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(a.from=function(c,d){return void 0===n&&(n=b(/*! ./internal/streams/from */ "./node_modules/readable-stream/lib/internal/streams/from-browser.js")),n(a,c,d)})},"./node_modules/readable-stream/lib/_stream_transform.js"(d,f,c){"use strict";d.exports=a;var b=c(/*! ../errors */ "./node_modules/readable-stream/errors-browser.js").codes,g=b.ERR_METHOD_NOT_IMPLEMENTED,h=b.ERR_MULTIPLE_CALLBACK,i=b.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=b.ERR_TRANSFORM_WITH_LENGTH_0,e=c(/*! ./_stream_duplex */ "./node_modules/readable-stream/lib/_stream_duplex.js");function k(e,c){var b=this._transformState;b.transforming=!1;var d=b.writecb;if(null===d)return this.emit("error",new h);b.writechunk=null,b.writecb=null,null!=c&&this.push(c),d(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function a(b){if(!(this instanceof a))return new a(b);e.call(this,b),this._transformState={afterTransform:k.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&("function"==typeof b.transform&&(this._transform=b.transform),"function"==typeof b.flush&&(this._flush=b.flush)),this.on("prefinish",l)}function l(){var a=this;"function"!=typeof this._flush||this._readableState.destroyed?m(this,null,null):this._flush(function(b,c){m(a,b,c)})}function m(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new j;if(a._transformState.transforming)throw new i;return a.push(null)}c(/*! inherits */ "./node_modules/inherits/inherits_browser.js")(a,e),a.prototype.push=function(a,b){return this._transformState.needTransform=!1,e.prototype.push.call(this,a,b)},a.prototype._transform=function(b,c,a){a(new g("_transform()"))},a.prototype._write=function(c,d,e){var a=this._transformState;if(a.writecb=e,a.writechunk=c,a.writeencoding=d,!a.transforming){var b=this._readableState;(a.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(b){var a=this._transformState;null===a.writechunk||a.transforming?a.needTransform=!0:(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform))},a.prototype._destroy=function(a,b){e.prototype._destroy.call(this,a,function(a){b(a)})}},"./node_modules/readable-stream/lib/_stream_writable.js"(f,i,b){"use strict";var j,e,k=b(/*! process */ "./node_modules/process/browser.js");function l(a){var b=this;this.next=null,this.entry=null,this.finish=function(){I(b,a)}}f.exports=a,a.WritableState=h;var m={deprecate:b(/*! util-deprecate */ "./node_modules/util-deprecate/browser.js")},g=b(/*! ./internal/streams/stream */ "./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),n=b(/*! buffer */ "./node_modules/buffer/index.js").Buffer,o=b.g.Uint8Array||function(){},d=b(/*! ./internal/streams/destroy */ "./node_modules/readable-stream/lib/internal/streams/destroy.js"),p=b(/*! ./internal/streams/state */ "./node_modules/readable-stream/lib/internal/streams/state.js").getHighWaterMark,c=b(/*! ../errors */ "./node_modules/readable-stream/errors-browser.js").codes,q=c.ERR_INVALID_ARG_TYPE,r=c.ERR_METHOD_NOT_IMPLEMENTED,s=c.ERR_MULTIPLE_CALLBACK,t=c.ERR_STREAM_CANNOT_PIPE,u=c.ERR_STREAM_DESTROYED,v=c.ERR_STREAM_NULL_VALUES,w=c.ERR_STREAM_WRITE_AFTER_END,x=c.ERR_UNKNOWN_ENCODING,y=d.errorOrDestroy;function z(){}function h(a,d,c){j=j||b(/*! ./_stream_duplex */ "./node_modules/readable-stream/lib/_stream_duplex.js"),a=a||{},"boolean"!=typeof c&&(c=d instanceof j),this.objectMode=!!a.objectMode,c&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=p(this,a,"writableHighWaterMark",c),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var e=!1===a.decodeStrings;this.decodeStrings=!e,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){B(d,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==a.emitClose,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function a(c){var d=this instanceof(j=j||b(/*! ./_stream_duplex */ "./node_modules/readable-stream/lib/_stream_duplex.js"));if(!d&&!e.call(a,this))return new a(c);this._writableState=new h(c,this,d),this.writable=!0,c&&("function"==typeof c.write&&(this._write=c.write),"function"==typeof c.writev&&(this._writev=c.writev),"function"==typeof c.destroy&&(this._destroy=c.destroy),"function"==typeof c.final&&(this._final=c.final)),g.call(this)}function A(b,a,d,e,c,f,g){a.writelen=e,a.writecb=g,a.writing=!0,a.sync=!0,a.destroyed?a.onwrite(new u("write")):d?b._writev(c,a.onwrite):b._write(c,f,a.onwrite),a.sync=!1}function B(c,j){var d,b,f,l,e,h,a=c._writableState,m=a.sync,g=a.writecb;if("function"!=typeof g)throw new s;if((d=a).writing=!1,d.writecb=null,d.length-=d.writelen,d.writelen=0,j)b=c,f=a,l=m,e=j,h=g,--f.pendingcb,l?(k.nextTick(h,e),k.nextTick(H,b,f),b._writableState.errorEmitted=!0,y(b,e)):(h(e),b._writableState.errorEmitted=!0,y(b,e),H(b,f));else{var i=F(a)||c.destroyed;i||a.corked||a.bufferProcessing||!a.bufferedRequest||E(c,a),m?k.nextTick(C,c,a,i,g):C(c,a,i,g)}}function C(b,a,c,d){c||D(b,a),a.pendingcb--,d(),H(b,a)}function D(b,a){0===a.length&&a.needDrain&&(a.needDrain=!1,b.emit("drain"))}function E(d,a){a.bufferProcessing=!0;var b=a.bufferedRequest;if(d._writev&&b&&b.next){var i=a.bufferedRequestCount,e=new Array(i),c=a.corkedRequestsFree;c.entry=b;for(var f=0,g=!0;b;)e[f]=b,b.isBuf||(g=!1),b=b.next,f+=1;e.allBuffers=g,A(d,a,!0,a.length,e,"",c.finish),a.pendingcb++,a.lastBufferedRequest=null,c.next?(a.corkedRequestsFree=c.next,c.next=null):a.corkedRequestsFree=new l(a),a.bufferedRequestCount=0}else{for(;b;){var h=b.chunk,j=b.encoding,k=b.callback,m=a.objectMode?1:h.length;if(A(d,a,!1,m,h,j,k),b=b.next,a.bufferedRequestCount--,a.writing)break}null===b&&(a.lastBufferedRequest=null)}a.bufferedRequest=b,a.bufferProcessing=!1}function F(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function G(a,b){a._final(function(c){b.pendingcb--,c&&y(a,c),b.prefinished=!0,a.emit("prefinish"),H(a,b)})}function H(c,b){var d,a,f=F(b);if(f&&(d=c,(a=b).prefinished||a.finalCalled||("function"!=typeof d._final||a.destroyed?(a.prefinished=!0,d.emit("prefinish")):(a.pendingcb++,a.finalCalled=!0,k.nextTick(G,d,a))),0===b.pendingcb&&(b.finished=!0,c.emit("finish"),b.autoDestroy))){var e=c._readableState;(!e||e.autoDestroy&&e.endEmitted)&&c.destroy()}return f}function I(b,c,d){var a=b.entry;for(b.entry=null;a;){var e=a.callback;c.pendingcb--,e(d),a=a.next}c.corkedRequestsFree.next=b}b(/*! inherits */ "./node_modules/inherits/inherits_browser.js")(a,g),h.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(h.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(b){return!!e.call(this,b)||this===a&&b&&b._writableState instanceof h}})):e=function(a){return a instanceof this},a.prototype.pipe=function(){y(this,new t)},a.prototype.write=function(b,a,c){var j,l,m,h,p,r,f,s,e,i,d=this._writableState,t=!1,g=!d.objectMode&&(i=b,n.isBuffer(i)||i instanceof o);return g&&!n.isBuffer(b)&&(b=(j=b,n.from(j))),("function"==typeof a&&(c=a,a=null),g?a="buffer":a||(a=d.defaultEncoding),"function"!=typeof c&&(c=z),d.ending)?(l=this,m=c,h=new w,y(l,h),k.nextTick(m,h)):(g||(p=this,r=d,f=b,s=c,null===f?e=new v:"string"==typeof f||r.objectMode||(e=new q("chunk",["string","Buffer"],f)),!e||(y(p,e),k.nextTick(s,e),0)))&&(d.pendingcb++,t=function o(m,a,e,b,d,g){if(!e){var f,c,h,i=(f=a,c=b,h=d,f.objectMode|| !1===f.decodeStrings||"string"!=typeof c||(c=n.from(c,h)),c);b!==i&&(e=!0,d="buffer",b=i)}var j=a.objectMode?1:b.length;a.length+=j;var k=a.length<a.highWaterMark;if(k||(a.needDrain=!0),a.writing||a.corked){var l=a.lastBufferedRequest;a.lastBufferedRequest={chunk:b,encoding:d,isBuf:e,callback:g,next:null},l?l.next=a.lastBufferedRequest:a.bufferedRequest=a.lastBufferedRequest,a.bufferedRequestCount+=1}else A(m,a,!1,j,b,d,g);return k}(this,d,g,b,a,c)),t},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var a=this._writableState;!a.corked||(a.corked--,a.writing||a.corked||a.bufferProcessing||!a.bufferedRequest||E(this,a))},a.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())> -1))throw new x(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(b,c,a){a(new r("_write()"))},a.prototype._writev=null,a.prototype.end=function(a,b,g){var d,c,e,f=this._writableState;return"function"==typeof a?(g=a,a=null,b=null):"function"==typeof b&&(g=b,b=null),null!=a&&this.write(a,b),f.corked&&(f.corked=1,this.uncork()),f.ending||(d=this,c=f,e=g,c.ending=!0,H(d,c),e&&(c.finished?k.nextTick(e):d.once("finish",e)),c.ended=!0,d.writable=!1),this},Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),a.prototype.destroy=d.destroy,a.prototype._undestroy=d.undestroy,a.prototype._destroy=function(a,b){b(a)}},"./node_modules/readable-stream/lib/internal/streams/async_iterator.js"(d,g,b){"use strict";var a,h=b(/*! process */ "./node_modules/process/browser.js");function c(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var i=b(/*! ./end-of-stream */ "./node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),j=Symbol("lastResolve"),k=Symbol("lastReject"),l=Symbol("error"),m=Symbol("ended"),n=Symbol("lastPromise"),o=Symbol("handlePromise"),e=Symbol("stream");function p(a,b){return{value:a,done:b}}function q(a){var b=a[j];if(null!==b){var c=a[e].read();null!==c&&(a[n]=null,a[j]=null,a[k]=null,b(p(c,!1)))}}function r(a){h.nextTick(q,a)}var f=Object.getPrototypeOf(function(){}),s=Object.setPrototypeOf((a={get stream(){return this[e]},next:function(){var f,g,a,i=this,b=this[l];if(null!==b)return Promise.reject(b);if(this[m])return Promise.resolve(p(void 0,!0));if(this[e].destroyed)return new Promise(function(a,b){h.nextTick(function(){i[l]?b(i[l]):a(p(void 0,!0))})});var c=this[n];if(c)a=new Promise((f=c,g=this,function(b,a){f.then(function(){if(g[m]){b(p(void 0,!0));return}g[o](b,a)},a)}));else{var d=this[e].read();if(null!==d)return Promise.resolve(p(d,!1));a=new Promise(this[o])}return this[n]=a,a}},c(a,Symbol.asyncIterator,function(){return this}),c(a,"return",function(){var a=this;return new Promise(function(b,c){a[e].destroy(null,function(a){if(a){c(a);return}b(p(void 0,!0))})})}),a),f);d.exports=function(b){var a,d=Object.create(s,(c(a={},e,{value:b,writable:!0}),c(a,j,{value:null,writable:!0}),c(a,k,{value:null,writable:!0}),c(a,l,{value:null,writable:!0}),c(a,m,{value:b._readableState.endEmitted,writable:!0}),c(a,o,{value:function(a,c){var b=d[e].read();b?(d[n]=null,d[j]=null,d[k]=null,a(p(b,!1))):(d[j]=a,d[k]=c)},writable:!0}),a));return d[n]=null,i(b,function(a){if(a&&"ERR_STREAM_PREMATURE_CLOSE"!==a.code){var b=d[k];null!==b&&(d[n]=null,d[j]=null,d[k]=null,b(a)),d[l]=a;return}var c=d[j];null!==c&&(d[n]=null,d[j]=null,d[k]=null,c(p(void 0,!0))),d[m]=!0}),b.on("readable",r.bind(null,d)),d}},"./node_modules/readable-stream/lib/internal/streams/buffer_list.js"(c,d,a){"use strict";function e(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}var h=a(/*! buffer */ "./node_modules/buffer/index.js").Buffer,b=a(/*! util */ "?ed1b").inspect,i=b&&b.custom||"inspect";function j(a,b,c){h.prototype.copy.call(a,b,c)}c.exports=function(){var a,c,d;function k(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,k),this.head=null,this.tail=null,this.length=0}return a=k,c=[{key:"push",value:function(b){var a={data:b,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}},{key:"unshift",value:function(b){var a={data:b,next:this.head};0===this.length&&(this.tail=a),this.head=a,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(0===this.length)return"";for(var a=this.head,b=""+a.data;a=a.next;)b+=c+a.data;return b}},{key:"concat",value:function(d){if(0===this.length)return h.alloc(0);for(var b=h.allocUnsafe(d>>>0),a=this.head,c=0;a;)j(a.data,b,c),c+=a.data.length,a=a.next;return b}},{key:"consume",value:function(a,c){var b;return a<this.head.data.length?(b=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):b=a===this.head.data.length?this.shift():c?this._getString(a):this._getBuffer(a),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var a=this.head,f=1,d=a.data;for(c-=d.length;a=a.next;){var b=a.data,e=c>b.length?b.length:c;if(e===b.length?d+=b:d+=b.slice(0,c),0==(c-=e)){e===b.length?(++f,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=b.slice(e));break}++f}return this.length-=f,d}},{key:"_getBuffer",value:function(b){var d=h.allocUnsafe(b),a=this.head,f=1;for(a.data.copy(d),b-=a.data.length;a=a.next;){var c=a.data,e=b>c.length?c.length:b;if(c.copy(d,d.length-b,0,e),0==(b-=e)){e===c.length?(++f,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=c.slice(e));break}++f}return this.length-=f,d}},{key:i,value:function(_,a){return b(this,function(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?e(Object(b),!0).forEach(function(a){f(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):e(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}({},a,{depth:0,customInspect:!1}))}}],g(a.prototype,c),d&&g(a,d),k}()},"./node_modules/readable-stream/lib/internal/streams/destroy.js"(a,c,b){"use strict";var d=b(/*! process */ "./node_modules/process/browser.js");function e(a,b){g(a,b),f(a)}function f(a){(!a._writableState||a._writableState.emitClose)&&(!a._readableState||a._readableState.emitClose)&&a.emit("close")}function g(a,b){a.emit("error",b)}a.exports={destroy:function(a,b){var i=this,c=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return c||h?(b?b(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(g,this,a)):d.nextTick(g,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?i._writableState?i._writableState.errorEmitted?d.nextTick(f,i):(i._writableState.errorEmitted=!0,d.nextTick(e,i,a)):d.nextTick(e,i,a):b?(d.nextTick(f,i),b(a)):d.nextTick(f,i)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,b){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(b):a.emit("error",b)}}},"./node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(a,d,b){"use strict";var e=b(/*! ../../../errors */ "./node_modules/readable-stream/errors-browser.js").codes.ERR_STREAM_PREMATURE_CLOSE;function f(){}function c(a,b,d){if("function"==typeof b)return c(a,null,b);b||(b={}),d=(o=d||f,p=!1,function(){if(!p){p=!0;for(var b=arguments.length,c=new Array(b),a=0;a<b;a++)c[a]=arguments[a];o.apply(this,c)}});var o,p,g,q=b.readable|| !1!==b.readable&&a.readable,l=b.writable|| !1!==b.writable&&a.writable,h=function(){a.writable||i()},r=a._writableState&&a._writableState.finished,i=function(){l=!1,r=!0,q||d.call(a)},s=a._readableState&&a._readableState.endEmitted,m=function(){q=!1,s=!0,l||d.call(a)},n=function(b){d.call(a,b)},j=function(){var b;return q&&!s?(a._readableState&&a._readableState.ended||(b=new e),d.call(a,b)):l&&!r?(a._writableState&&a._writableState.ended||(b=new e),d.call(a,b)):void 0},k=function(){a.req.on("finish",i)};return(g=a).setHeader&&"function"==typeof g.abort?(a.on("complete",i),a.on("abort",j),a.req?k():a.on("request",k)):l&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",m),a.on("finish",i),!1!==b.error&&a.on("error",n),a.on("close",j),function(){a.removeListener("complete",i),a.removeListener("abort",j),a.removeListener("request",k),a.req&&a.req.removeListener("finish",i),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",i),a.removeListener("end",m),a.removeListener("error",n),a.removeListener("close",j)}}a.exports=c},"./node_modules/readable-stream/lib/internal/streams/from-browser.js"(a){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},"./node_modules/readable-stream/lib/internal/streams/pipeline.js"(b,d,c){"use strict";var e,a=c(/*! ../../../errors */ "./node_modules/readable-stream/errors-browser.js").codes,f=a.ERR_MISSING_ARGS,g=a.ERR_STREAM_DESTROYED;function h(a){if(a)throw a}function i(a){a()}function j(a,b){return a.pipe(b)}b.exports=function(){for(var l,k=arguments.length,a=new Array(k),b=0;b<k;b++)a[b]=arguments[b];var d,m=(d=a).length&&"function"==typeof d[d.length-1]?d.pop():h;if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new f("streams");var n=a.map(function(d,b){var f=b<a.length-1;return function(a,d,f,b){b=(h=b,i=!1,function(){i||(i=!0,h.apply(void 0,arguments))});var h,i,j=!1;a.on("close",function(){j=!0}),void 0===e&&(e=c(/*! ./end-of-stream */ "./node_modules/readable-stream/lib/internal/streams/end-of-stream.js")),e(a,{readable:d,writable:f},function(a){if(a)return b(a);j=!0,b()});var k=!1;return function(d){if(!j&&!k){var c;if(k=!0,(c=a).setHeader&&"function"==typeof c.abort)return a.abort();if("function"==typeof a.destroy)return a.destroy();b(d||new g("pipe"))}}}(d,f,b>0,function(a){l||(l=a),a&&n.forEach(i),f||(n.forEach(i),m(l))})});return a.reduce(j)}},"./node_modules/readable-stream/lib/internal/streams/state.js"(a,c,b){"use strict";var d=b(/*! ../../../errors */ "./node_modules/readable-stream/errors-browser.js").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(h,i,c,e){var b,f,g,a=(b=i,f=e,g=c,null!=b.highWaterMark?b.highWaterMark:f?b[g]:null);if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var j=e?c:"highWaterMark";throw new d(j,a)}return Math.floor(a)}return h.objectMode?16:16384}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"(a,c,b){a.exports=b(/*! events */ "./node_modules/events/events.js").EventEmitter},"./node_modules/readable-web-to-node-stream/lib/index.js"(e,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});let c=b(/*! stream */ "./node_modules/stream-browserify/index.js");class d extends c.Readable{constructor(a){super(),this.bytesRead=0,this.released=!1,this.reader=a.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();let a=await this.pendingRead;delete this.pendingRead,a.done||this.released?this.push(null):(this.bytesRead+=a.value.length,this.push(a.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}a.ReadableWebToNodeStream=d},"./node_modules/safe-buffer/index.js"(f,d,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */ var c=g(/*! buffer */ "./node_modules/buffer/index.js"),b=c.Buffer;function e(a,c){for(var b in a)c[b]=a[b]}function a(a,c,d){return b(a,c,d)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?f.exports=c:(e(c,d),d.Buffer=a),a.prototype=Object.create(b.prototype),e(b,a),a.from=function(a,c,d){if("number"==typeof a)throw new TypeError("Argument must not be a number");return b(a,c,d)},a.alloc=function(d,c,e){if("number"!=typeof d)throw new TypeError("Argument must be a number");var a=b(d);return void 0!==c?"string"==typeof e?a.fill(c,e):a.fill(c):a.fill(0),a},a.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return b(a)},a.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return c.SlowBuffer(a)}},"./node_modules/stk500/index.js"(c,d,b){var e=b(/*! buffer */ "./node_modules/buffer/index.js").Buffer,f=b(/*! async */ "./node_modules/stk500/node_modules/async/lib/async.js"),g=b(/*! ./lib/statics */ "./node_modules/stk500/lib/statics.js"),h=b(/*! ./lib/sendCommand */ "./node_modules/stk500/lib/sendCommand.js"),a=function(a){this.opts=a||{},this.quiet=this.opts.quiet||!1,this.quiet?this.log=function(){}:"object"==typeof window?this.log=console.log.bind(window):this.log=console.log};a.prototype.sync=function(c,d,a,e){this.log("sync");var f=this,i=1,j={cmd:[g.Cmnd_STK_GET_SYNC],responseData:g.OK_RESPONSE,timeout:a};function b(){i+=1,h(c,j,function(a,c){if(a&&i<=d)return a&&f.log(a),f.log("failed attempt again",i),b();f.log("sync complete",a,c,i),e(a,c)})}b()},a.prototype.verifySignature=function(a,b,c,f){this.log("verify signature");var i=this;match=e.concat([e.from([g.Resp_STK_INSYNC]),b,e.from([g.Resp_STK_OK])]);var d={cmd:[g.Cmnd_STK_READ_SIGN],responseLength:match.length,timeout:c};h(a,d,function(b,a){a?i.log("confirm signature",b,a,a.toString("hex")):i.log("confirm signature",b,"no data"),f(b,a)})},a.prototype.getSignature=function(a,b,d){this.log("get signature");var c={cmd:[g.Cmnd_STK_READ_SIGN],responseLength:5,timeout:b};h(a,c,function(a,b){this.log("getSignature",a,b),d(a,b)})},a.prototype.setOptions=function(b,a,c,e){this.log("set device");var f=this,d={cmd:[g.Cmnd_STK_SET_DEVICE,a.devicecode||0,a.revision||0,a.progtype||0,a.parmode||0,a.polling||0,a.selftimed||0,a.lockbytes||0,a.fusebytes||0,a.flashpollval1||0,a.flashpollval2||0,a.eeprompollval1||0,a.eeprompollval2||0,a.pagesizehigh||0,a.pagesizelow||0,a.eepromsizehigh||0,a.eepromsizelow||0,a.flashsize4||0,a.flashsize3||0,a.flashsize2||0,a.flashsize1||0],responseData:g.OK_RESPONSE,timeout:c};h(b,d,function(a,b){if(f.log("setOptions",a,b),a)return e(a);e()})},a.prototype.enterProgrammingMode=function(a,b,d){this.log("send enter programming mode");var e=this,c={cmd:[g.Cmnd_STK_ENTER_PROGMODE],responseData:g.OK_RESPONSE,timeout:b};h(a,c,function(a,b){e.log("sent enter programming mode",a,b),d(a,b)})},a.prototype.loadAddress=function(b,a,c,e){this.log("load address");var f=this,d={cmd:[g.Cmnd_STK_LOAD_ADDRESS,255&a,a>>8&255],responseData:g.OK_RESPONSE,timeout:c};h(b,d,function(a,b){f.log("loaded address",a,b),e(a,b)})},a.prototype.loadPage=function(b,a,c,k){this.log("load page");var l=this,d=255&a.length,f=a.length>>8,i=e.concat([e.from([g.Cmnd_STK_PROG_PAGE,f,d,70]),a,e.from([g.Sync_CRC_EOP])]),j={cmd:i,responseData:g.OK_RESPONSE,timeout:c};h(b,j,function(a,b){l.log("loaded page",a,b),k(a,b)})},a.prototype.upload=function(a,b,c,d,e,g){this.log("program");var h,i,j=0,k=this;f.whilst(function(){return j<b.length},function(g){k.log("program page"),f.series([function(a){i=e?j:j>>1,a()},function(b){k.loadAddress(a,i,d,b)},function(a){h=b.slice(j,b.length>c?j+c:b.length-1),a()},function(b){k.loadPage(a,h,d,b)},function(a){k.log("programmed page"),j+=h.length,setTimeout(a,4)}],function(a){k.log("page done"),g(a)})},function(a){k.log("upload done"),g(a)})},a.prototype.exitProgrammingMode=function(a,b,d){this.log("send leave programming mode");var e=this,c={cmd:[g.Cmnd_STK_LEAVE_PROGMODE],responseData:g.OK_RESPONSE,timeout:b};h(a,c,function(a,b){e.log("sent leave programming mode",a,b),d(a,b)})},a.prototype.verify=function(a,b,c,d,e,g){this.log("verify");var h,i,j=0,k=this;f.whilst(function(){return j<b.length},function(g){k.log("verify page"),f.series([function(a){i=e?j:j>>1,a()},function(b){k.loadAddress(a,i,d,b)},function(a){h=b.slice(j,b.length>c?j+c:b.length-1),a()},function(b){k.verifyPage(a,h,c,d,b)},function(a){k.log("verified page"),j+=h.length,setTimeout(a,4)}],function(a){k.log("verify done"),g(a)})},function(a){k.log("verify done"),g(a)})},a.prototype.verifyPage=function(d,a,b,f,j){this.log("verify page");var k=this;match=e.concat([e.from([g.Resp_STK_INSYNC]),a,e.from([g.Resp_STK_OK])]);var c=a.length>=b?b:a.length,i={cmd:[g.Cmnd_STK_READ_PAGE,c>>8&255,255&c,70],responseLength:match.length,timeout:f};h(d,i,function(b,a){k.log("confirm page",b,a,a.toString("hex")),j(b,a)})},a.prototype.bootload=function(b,c,a,d,g){var e={pagesizehigh:a.pagesizehigh<<8&255,pagesizelow:255&a.pagesizelow};f.series([this.sync.bind(this,b,3,a.timeout),this.sync.bind(this,b,3,a.timeout),this.sync.bind(this,b,3,a.timeout),this.verifySignature.bind(this,b,a.signature,a.timeout),this.setOptions.bind(this,b,e,a.timeout),this.enterProgrammingMode.bind(this,b,a.timeout),this.upload.bind(this,b,c,a.pageSize,a.timeout,d),this.verify.bind(this,b,c,a.pageSize,a.timeout,d),this.exitProgrammingMode.bind(this,b,a.timeout)],function(a){return g(a)})},c.exports=a},"./node_modules/stk500/lib/receiveData.js"(b,c,a){var d=a(/*! buffer */ "./node_modules/buffer/index.js").Buffer,e=[a(/*! ./statics */ "./node_modules/stk500/lib/statics.js").Resp_STK_INSYNC];b.exports=function(b,a,g,h){var i=d.alloc(0),j=!1,c=null,f=function(a){for(var b=0;!j&&b<a.length;){var c=a[b];-1!==e.indexOf(c)&&(a=a.slice(b,a.length-b),j=!0),b++}if(j&&(i=d.concat([i,a])),i.length>g)return k(new Error("buffer overflow "+i.length+" > "+g));i.length==g&&k()},k=function(a){c&&clearTimeout(c),b.removeListener("data",f),h(a,i)};a&&a>0&&(c=setTimeout(function(){c=null,k(new Error("receiveData timeout after "+a+"ms"))},a)),b.on("data",f)}},"./node_modules/stk500/lib/sendCommand.js"(b,c,a){var d=a(/*! buffer */ "./node_modules/buffer/index.js").Buffer,e=a(/*! ./receiveData */ "./node_modules/stk500/lib/receiveData.js"),f=a(/*! ./statics */ "./node_modules/stk500/lib/statics.js");b.exports=function(h,a,i){var j,k=a.timeout||0;f.Resp_STK_INSYNC,f.Resp_STK_NOSYNC;var c=null,g=0;a.responseData&&a.responseData.length>0&&(c=a.responseData),c&&(g=c.length),a.responseLength&&(g=a.responseLength);var b=a.cmd;b instanceof Array&&(b=d.from(b.concat(f.Sync_CRC_EOP))),h.write(b,function(a){if(a)return i(j=new Error("Sending "+b.toString("hex")+": "+a.message));e(h,k,g,function(d,a){return d?i(j=new Error("Sending "+b.toString("hex")+": "+d.message)):c&&!a.equals(c)?i(j=new Error(b+" response mismatch: "+a.toString("hex")+", "+c.toString("hex"))):void i(null,a)})})}},"./node_modules/stk500/lib/statics.js"(a,d,b){var c=b(/*! buffer */ "./node_modules/buffer/index.js").Buffer;a.exports={Cmnd_STK_GET_SYNC:48,Cmnd_STK_SET_DEVICE:66,Cmnd_STK_ENTER_PROGMODE:80,Cmnd_STK_LOAD_ADDRESS:85,Cmnd_STK_PROG_PAGE:100,Cmnd_STK_LEAVE_PROGMODE:81,Cmnd_STK_READ_SIGN:117,Sync_CRC_EOP:32,Resp_STK_OK:16,Resp_STK_INSYNC:20,Resp_STK_NOSYNC:21,Cmnd_STK_READ_PAGE:116,OK_RESPONSE:c.from([20,16])}},"./node_modules/stk500/node_modules/async/lib/async.js"(b,c,a){var d,e,f=a(/*! process */ "./node_modules/process/browser.js");!function(){var i,q,a={};function r(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(i,arguments)}}i=this,null!=i&&(q=i.async),a.noConflict=function(){return i.async=q,a};var s=Object.prototype.toString,t=Array.isArray||function(a){return"[object Array]"===s.call(a)},u=function(b,c){for(var a=0;a<b.length;a+=1)c(b[a],a,b)},v=function(a,b){if(a.map)return a.map(b);var c=[];return u(a,function(a,d,e){c.push(b(a,d,e))}),c},w=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};void 0!==f&&f.nextTick?(a.nextTick=f.nextTick,"undefined"!=typeof setImmediate?a.setImmediate=function(a){setImmediate(a)}:a.setImmediate=a.nextTick):"function"==typeof setImmediate?(a.nextTick=function(a){setImmediate(a)},a.setImmediate=a.nextTick):(a.nextTick=function(a){setTimeout(a,0)},a.setImmediate=a.nextTick),a.each=function(b,c,a){if(a=a||function(){},!b.length)return a();var d=0;function e(c){c?(a(c),a=function(){}):(d+=1)>=b.length&&a()}u(b,function(a){c(a,r(e))})},a.forEach=a.each,a.eachSeries=function(b,d,a){if(a=a||function(){},!b.length)return a();var e=0,c=function(){d(b[e],function(d){d?(a(d),a=function(){}):(e+=1)>=b.length?a():c()})};c()},a.forEachSeries=a.eachSeries,a.eachLimit=function(a,b,c,d){x(b).apply(null,[a,c,d])},a.forEachLimit=a.eachLimit;var x=function(a){return function(c,d,b){if(b=b||function(){},!c.length||a<=0)return b();var e=0,f=0,g=0;!function h(){if(e>=c.length)return b();for(;g<a&&f<c.length;)g+=1,d(c[(f+=1)-1],function(a){a?(b(a),b=function(){}):(g-=1,(e+=1)>=c.length?b():h())})}()}},g=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.each].concat(c))}},h=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.eachSeries].concat(c))}},j=function(b,a,d,c){if(a=v(a,function(a,b){return{index:b,value:a}}),c){var e=[];b(a,function(a,b){d(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){c(a,e)})}else b(a,function(a,b){d(a.value,function(a){b(a)})})};a.map=g(j),a.mapSeries=h(j),a.mapLimit=function(a,b,c,d){return y(b)(a,c,d)};var y=function(a){var b,c;return b=a,c=j,function(){var a=Array.prototype.slice.call(arguments);return c.apply(null,[x(b)].concat(a))}};a.reduce=function(b,c,d,e){a.eachSeries(b,function(a,b){d(c,a,function(a,d){c=d,b(a)})},function(a){e(a,c)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(b,c,d,e){var f=v(b,function(a){return a}).reverse();a.reduce(f,c,d,e)},a.foldr=a.reduceRight;var k=function(b,a,c,d){var e=[];a=v(a,function(a,b){return{index:b,value:a}}),b(a,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(a){d(v(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.filter=g(k),a.filterSeries=h(k),a.select=a.filter,a.selectSeries=a.filterSeries;var l=function(b,a,c,d){var e=[];a=v(a,function(a,b){return{index:b,value:a}}),b(a,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(a){d(v(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.reject=g(l),a.rejectSeries=h(l);var m=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};a.detect=g(m),a.detectSeries=h(m),a.some=function(b,c,d){a.each(b,function(a,b){c(a,function(a){a&&(d(!0),d=function(){}),b()})},function(a){d(!1)})},a.any=a.some,a.every=function(b,c,d){a.each(b,function(a,b){c(a,function(a){a||(d(!1),d=function(){}),b()})},function(a){d(!0)})},a.all=a.every,a.sortBy=function(b,c,d){a.map(b,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);var c=function(c,d){var a=c.criteria,b=d.criteria;return a<b?-1:a>b?1:0};d(null,v(b.sort(c),function(a){return a.value}))})},a.auto=function(d,b){b=b||function(){};var c=w(d),e=c.length;if(!e)return b();var g={},h=[],f=function(a){h.unshift(a)},i=function(b){for(var a=0;a<h.length;a+=1)if(h[a]===b){h.splice(a,1);return}},j=function(){e--,u(h.slice(0),function(a){a()})};f(function(){if(!e){var a=b;b=function(){},a(null,g)}}),u(c,function(e){var c=t(d[e])?d[e]:[d[e]],h=function(d){var c=Array.prototype.slice.call(arguments,1);if(c.length<=1&&(c=c[0]),d){var f={};u(w(g),function(a){f[a]=g[a]}),f[e]=c,b(d,f),b=function(){}}else g[e]=c,a.setImmediate(j)},m=c.slice(0,Math.abs(c.length-1))||[],k=function(){return function(a,c,b){return a.reduce?a.reduce(c,b):(u(a,function(a,d,e){b=c(b,a,d,e)}),b)}(m,function(a,b){return a&&g.hasOwnProperty(b)},!0)&&!g.hasOwnProperty(e)};if(k())c[c.length-1](h,g);else{var l=function(){k()&&(i(l),c[c.length-1](h,g))};f(l)}})},a.retry=function(b,c,d){var f=[];"function"==typeof b&&(d=c,c=b,b=5),b=parseInt(b,10)||5;var e=function(g,h){for(var e=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},h)}};b;)f.push(e(c,!(b-=1)));a.series(f,function(b,a){(g||d)((a=a[a.length-1]).err,a.result)})};return d?e():e},a.waterfall=function(c,b){if(b=b||function(){},!t(c))return b(new Error("First argument to waterfall must be an array of functions"));if(!c.length)return b();var d=function(c){return function(g){if(g)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),f=c.next();f?e.push(d(f)):e.push(b),a.setImmediate(function(){c.apply(null,e)})}}};d(a.iterator(c))()};var z=function(c,a,b){if(b=b||function(){},t(a))c.map(a,function(a,b){a&&a(function(c){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),b.call(null,c,a)})},b);else{var d={};c.each(w(a),function(b,c){a[b](function(e){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),d[b]=a,c(e)})},function(a){b(a,d)})}};a.parallel=function(b,c){z({map:a.map,each:a.each},b,c)},a.parallelLimit=function(b,a,c){z({map:y(a),each:x(a)},b,c)},a.series=function(b,c){if(c=c||function(){},t(b))a.mapSeries(b,function(a,b){a&&a(function(c){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),b.call(null,c,a)})},c);else{var d={};a.eachSeries(w(b),function(a,c){b[a](function(e){var b=Array.prototype.slice.call(arguments,1);b.length<=1&&(b=b[0]),d[a]=b,c(e)})},function(a){c(a,d)})}},a.iterator=function(b){var a=function(d){var c=function(){return b.length&&b[d].apply(null,arguments),c.next()};return c.next=function(){return d<b.length-1?a(d+1):null},c};return a(0)},a.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var n=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};a.concat=g(n),a.concatSeries=h(n),a.whilst=function(b,c,d){b()?c(function(e){if(e)return d(e);a.whilst(b,c,d)}):d()},a.doWhilst=function(b,c,d){b(function(e){if(e)return d(e);var f=Array.prototype.slice.call(arguments,1);c.apply(null,f)?a.doWhilst(b,c,d):d()})},a.until=function(b,c,d){b()?d():c(function(e){if(e)return d(e);a.until(b,c,d)})},a.doUntil=function(b,c,d){b(function(e){if(e)return d(e);var f=Array.prototype.slice.call(arguments,1);c.apply(null,f)?d():a.doUntil(b,c,d)})},a.queue=function(d,b){function e(c,b,d,e){if(c.started||(c.started=!0),t(b)||(b=[b]),0==b.length)return a.setImmediate(function(){c.drain&&c.drain()});u(b,function(f){var b={data:f,callback:"function"==typeof e?e:null};d?c.tasks.unshift(b):c.tasks.push(b),c.saturated&&c.tasks.length===c.concurrency&&c.saturated(),a.setImmediate(c.process)})}void 0===b&&(b=1);var f=0,c={tasks:[],concurrency:b,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(a,b){e(c,a,!1,b)},kill:function(){c.drain=null,c.tasks=[]},unshift:function(a,b){e(c,a,!0,b)},process:function(){if(!c.paused&&f<c.concurrency&&c.tasks.length){var a=c.tasks.shift();c.empty&&0===c.tasks.length&&c.empty(),f+=1;var b=function(){f-=1,a.callback&&a.callback.apply(a,arguments),c.drain&&c.tasks.length+f===0&&c.drain(),c.process()},e=r(b);d(a.data,e)}},length:function(){return c.tasks.length},running:function(){return f},idle:function(){return c.tasks.length+f===0},pause:function(){!0!==c.paused&&(c.paused=!0)},resume:function(){if(!1!==c.paused){c.paused=!1;for(var b=1;b<=c.concurrency;b++)a.setImmediate(c.process)}}};return c},a.priorityQueue=function(c,d){function e(a,b){return a.priority-b.priority}var b=a.queue(c,d);return b.push=function(c,d,f){!function(c,b,d,f){if(c.started||(c.started=!0),t(b)||(b=[b]),0==b.length)return a.setImmediate(function(){c.drain&&c.drain()});u(b,function(g){var b={data:g,priority:d,callback:"function"==typeof f?f:null};c.tasks.splice(function(d,e,f){for(var a=-1,b=d.length-1;a<b;){var c=a+(b-a+1>>>1);f(e,d[c])>=0?a=c:b=c-1}return a}(c.tasks,b,e)+1,0,b),c.saturated&&c.tasks.length===c.concurrency&&c.saturated(),a.setImmediate(c.process)})}(b,c,d,f)},delete b.unshift,b},a.cargo=function(e,b){var f=!1,c=[],d={tasks:c,payload:b,saturated:null,empty:null,drain:null,drained:!0,push:function(e,f){t(e)||(e=[e]),u(e,function(a){c.push({data:a,callback:"function"==typeof f?f:null}),d.drained=!1,d.saturated&&c.length===b&&d.saturated()}),a.setImmediate(d.process)},process:function h(){if(!f){if(0===c.length){d.drain&&!d.drained&&d.drain(),d.drained=!0;return}var a="number"==typeof b?c.splice(0,b):c.splice(0,c.length),g=v(a,function(a){return a.data});d.empty&&d.empty(),f=!0,e(g,function(){f=!1;var b=arguments;u(a,function(a){a.callback&&a.callback.apply(null,b)}),h()})}},length:function(){return c.length},running:function(){return f}};return d};var o=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&u(c,function(b){console[a](b)}))}]))}};a.log=o("log"),a.dir=o("dir"),a.memoize=function(d,c){var e={},f={};c=c||function(a){return a};var b=function(){var g=Array.prototype.slice.call(arguments),h=g.pop(),b=c.apply(null,g);b in e?a.nextTick(function(){h.apply(null,e[b])}):b in f?f[b].push(h):(f[b]=[h],d.apply(null,g.concat([function(){e[b]=arguments;var c=f[b];delete f[b];for(var a=0,d=c.length;a<d;a++)c[a].apply(null,arguments)}])))};return b.memo=e,b.unmemoized=d,b},a.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},a.times=function(d,e,f){for(var c=[],b=0;b<d;b++)c.push(b);return a.map(c,e,f)},a.timesSeries=function(d,e,f){for(var c=[],b=0;b<d;b++)c.push(b);return a.mapSeries(c,e,f)},a.seq=function(){var b=arguments;return function(){var d=this,c=Array.prototype.slice.call(arguments),e=c.pop();a.reduce(b,c,function(a,b,c){b.apply(d,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);c(a,b)}]))},function(a,b){e.apply(d,[a].concat(b))})}},a.compose=function(){return a.seq.apply(null,Array.prototype.reverse.call(arguments))};var p=function(c,d){var a=function(){var b=this,a=Array.prototype.slice.call(arguments);return c(d,function(c,d){c.apply(b,a.concat([d]))},a.pop())};if(!(arguments.length>2))return a;var b=Array.prototype.slice.call(arguments,2);return a.apply(this,b)};a.applyEach=g(p),a.applyEachSeries=h(p),a.forever=function(b,c){function a(d){if(d){if(c)return c(d);throw d}b(a)}a()},b.exports?b.exports=a:(d=[],void 0!==(e=(function(){return a}).apply(c,d))&&(b.exports=e))}()},"./node_modules/stream-browserify/index.js"(c,e,b){c.exports=a;var d=b(/*! events */ "./node_modules/events/events.js").EventEmitter;function a(){d.call(this)}b(/*! inherits */ "./node_modules/inherits/inherits_browser.js")(a,d),a.Readable=b(/*! readable-stream/lib/_stream_readable.js */ "./node_modules/readable-stream/lib/_stream_readable.js"),a.Writable=b(/*! readable-stream/lib/_stream_writable.js */ "./node_modules/readable-stream/lib/_stream_writable.js"),a.Duplex=b(/*! readable-stream/lib/_stream_duplex.js */ "./node_modules/readable-stream/lib/_stream_duplex.js"),a.Transform=b(/*! readable-stream/lib/_stream_transform.js */ "./node_modules/readable-stream/lib/_stream_transform.js"),a.PassThrough=b(/*! readable-stream/lib/_stream_passthrough.js */ "./node_modules/readable-stream/lib/_stream_passthrough.js"),a.finished=b(/*! readable-stream/lib/internal/streams/end-of-stream.js */ "./node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),a.pipeline=b(/*! readable-stream/lib/internal/streams/pipeline.js */ "./node_modules/readable-stream/lib/internal/streams/pipeline.js"),a.Stream=a,a.prototype.pipe=function(b,e){var a=this;function g(c){b.writable&& !1===b.write(c)&&a.pause&&a.pause()}function h(){a.readable&&a.resume&&a.resume()}a.on("data",g),b.on("drain",h),b._isStdio||e&& !1===e.end||(a.on("end",j),a.on("close",k));var i=!1;function j(){i||(i=!0,b.end())}function k(){i||(i=!0,"function"==typeof b.destroy&&b.destroy())}function f(a){if(c(),0===d.listenerCount(this,"error"))throw a}function c(){a.removeListener("data",g),b.removeListener("drain",h),a.removeListener("end",j),a.removeListener("close",k),a.removeListener("error",f),b.removeListener("error",f),a.removeListener("end",c),a.removeListener("close",c),b.removeListener("close",c)}return a.on("error",f),b.on("error",f),a.on("end",c),a.on("close",c),b.on("close",c),b.emit("pipe",a),b}},"./node_modules/string_decoder/lib/string_decoder.js"(e,b,c){"use strict";var d=c(/*! safe-buffer */ "./node_modules/safe-buffer/index.js").Buffer,f=d.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(b){var a;switch(this.encoding=function(a){var b=function(a){var b;if(!a)return"utf8";for(;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}(a);if("string"!=typeof b&&(d.isEncoding===f||!f(a)))throw new Error("Unknown encoding: "+a);return b||a}(b),this.encoding){case"utf16le":this.text=i,this.end=j,a=4;break;case"utf8":this.fillLast=h,a=4;break;case"base64":this.text=k,this.end=l,a=3;break;default:this.write=m,this.end=n;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(a)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function h(a){var b=this.lastTotal-this.lastNeed,c=function(a,b,c){if((192&b[0])!=128)return a.lastNeed=0,"\uFFFD";if(a.lastNeed>1&&b.length>1){if((192&b[1])!=128)return a.lastNeed=1,"\uFFFD";if(a.lastNeed>2&&b.length>2&&(192&b[2])!=128)return a.lastNeed=2,"\uFFFD"}}(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(a.copy(this.lastChar,b,0,a.length),this.lastNeed-=a.length)}function i(a,c){if((a.length-c)%2==0){var b=a.toString("utf16le",c);if(b){var d=b.charCodeAt(b.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",c,a.length-1)}function j(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function k(a,c){var b=(a.length-c)%3;return 0===b?a.toString("base64",c):(this.lastNeed=3-b,this.lastTotal=3,1===b?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",c,a.length-b))}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(a){return a.toString(this.encoding)}function n(a){return a&&a.length?this.write(a):""}b.StringDecoder=a,a.prototype.write=function(a){var c,b;if(0===a.length)return"";if(this.lastNeed){if(void 0===(c=this.fillLast(a)))return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<a.length?c?c+this.text(a,b):this.text(a,b):c||""},a.prototype.end=function(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"\uFFFD":b},a.prototype.text=function(a,b){var c=function(d,c,e){var b=c.length-1;if(b<e)return 0;var a=g(c[b]);return a>=0?(a>0&&(d.lastNeed=a-1),a):--b<e|| -2===a?0:(a=g(c[b]))>=0?(a>0&&(d.lastNeed=a-2),a):--b<e|| -2===a?0:(a=g(c[b]))>=0?(a>0&&(2===a?a=0:d.lastNeed=a-3),a):0}(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)},a.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},"./node_modules/util-deprecate/browser.js"(a,b,c){a.exports=function(a,b){if(d("noDeprecation"))return a;var c=!1;return function(){if(!c){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),c=!0}return a.apply(this,arguments)}};function d(b){try{if(!c.g.localStorage)return!1}catch(d){return!1}var a=c.g.localStorage[b];return null!=a&&"true"===String(a).toLowerCase()}},"?ed1b"(){},"?d17e"(){},"./node_modules/async/dist/async.mjs"(aK,e,c){"use strict";c.r(e),c.d(e,{all:()=>D,allLimit:()=>E,allSeries:()=>F,any:()=>K,anyLimit:()=>L,anySeries:()=>M,apply:()=>O,applyEach:()=>R,applyEachSeries:()=>S,asyncify:()=>l,auto:()=>T,autoInject:()=>U,cargo:()=>V,cargoQueue:()=>W,compose:()=>Y,concat:()=>t,concatLimit:()=>s,concatSeries:()=>u,constant:()=>$,default:()=>bj,detect:()=>v,detectLimit:()=>w,detectSeries:()=>x,dir:()=>aa,doDuring:()=>z,doUntil:()=>ab,doWhilst:()=>z,during:()=>N,each:()=>A,eachLimit:()=>B,eachOf:()=>o,eachOfLimit:()=>n,eachOfSeries:()=>q,eachSeries:()=>C,ensureAsync:()=>ac,every:()=>D,everyLimit:()=>E,everySeries:()=>F,filter:()=>G,filterLimit:()=>H,filterSeries:()=>I,find:()=>v,findLimit:()=>w,findSeries:()=>x,flatMap:()=>t,flatMapLimit:()=>s,flatMapSeries:()=>u,foldl:()=>d,foldr:()=>J,forEach:()=>A,forEachLimit:()=>B,forEachOf:()=>o,forEachOfLimit:()=>n,forEachOfSeries:()=>q,forEachSeries:()=>C,forever:()=>ad,groupBy:()=>af,groupByLimit:()=>ae,groupBySeries:()=>ag,inject:()=>d,log:()=>ah,map:()=>p,mapLimit:()=>Z,mapSeries:()=>r,mapValues:()=>aj,mapValuesLimit:()=>ai,mapValuesSeries:()=>ak,memoize:()=>al,nextTick:()=>am,parallel:()=>an,parallelLimit:()=>ao,priorityQueue:()=>aq,queue:()=>ap,race:()=>ar,reduce:()=>d,reduceRight:()=>J,reflect:()=>as,reflectAll:()=>at,reject:()=>au,rejectLimit:()=>av,rejectSeries:()=>aw,retry:()=>ax,retryable:()=>ay,select:()=>G,selectLimit:()=>H,selectSeries:()=>I,seq:()=>X,series:()=>az,setImmediate:()=>Q,some:()=>K,someLimit:()=>L,someSeries:()=>M,sortBy:()=>aA,timeout:()=>aB,times:()=>aD,timesLimit:()=>aC,timesSeries:()=>aE,transform:()=>aF,tryEach:()=>aG,unmemoize:()=>aH,until:()=>aI,waterfall:()=>aJ,whilst:()=>N,wrapSync:()=>l});var f,g,b=c(/*! process */ "./node_modules/process/browser.js");function O(a,...b){return(...c)=>a(...b,...c)}function aL(a){return function(...b){var c=b.pop();return a.call(this,b,c)}}var P="function"==typeof queueMicrotask&&queueMicrotask,h="function"==typeof setImmediate&&setImmediate,i="object"==typeof b&&"function"==typeof b.nextTick;function j(a){setTimeout(a,0)}function k(a){return(b,...c)=>a(()=>b(...c))}f=P?queueMicrotask:h?setImmediate:i?b.nextTick:j;var Q=k(f);function l(a){return aO(a)?function(...b){let c=b.pop(),d=a.apply(this,b);return aM(d,c)}:aL(function(d,c){var b;try{b=a.apply(this,d)}catch(e){return c(e)}if(b&&"function"==typeof b.then)return aM(b,c);c(null,b)})}function aM(a,b){return a.then(a=>{aN(b,null,a)},a=>{aN(b,a&&a.message?a:new Error(a))})}function aN(a,b,c){try{a(b,c)}catch(d){Q(a=>{throw a},d)}}function aO(a){return"AsyncFunction"===a[Symbol.toStringTag]}function aP(a){if("function"!=typeof a)throw new Error("expected a function");return aO(a)?l(a):a}function a(a,b=a.length){if(!b)throw new Error("arity is undefined");return function(...c){return"function"==typeof c[b-1]?a.apply(this,c):new Promise((d,e)=>{c[b-1]=(b,...a)=>{if(b)return e(b);d(a.length>1?a:a[0])},a.apply(this,c)})}}function m(b){return function(d,...e){let c=a(function(a){var c=this;return b(d,(a,b)=>{aP(a).apply(c,e.concat(b))},a)});return c}}function aQ(b,a,c,d){a=a||[];var e=[],f=0,g=aP(c);return b(a,(a,_,b)=>{var c=f++;g(a,(a,d)=>{e[c]=d,b(a)})},a=>{d(a,e)})}function aR(a){return a&&"number"==typeof a.length&&a.length>=0&&a.length%1==0}let aS={};function aT(b){function a(...a){if(null!==b){var c=b;b=null,c.apply(this,a)}}return Object.assign(a,b),a}function aU(a){return function(...b){if(null===a)throw new Error("Callback was already called.");var c=a;a=null,c.apply(this,b)}}function aV(b,c,d,e){let f=!1,g=!1,h=!1,i=0,j=0;function a(){i>=c||h||f||(h=!0,b.next().then(({value:b,done:c})=>{if(!g&&!f){if(h=!1,c){f=!0,i<=0&&e(null);return}i++,d(b,j,k),j++,a()}}).catch(l))}function k(b,c){if(i-=1,!g){if(b)return l(b);if(!1===b){f=!0,g=!0;return}if(c===aS||f&&i<=0)return f=!0,e(null);a()}}function l(a){g||(h=!1,f=!0,e(a))}a()}var aW=a=>(b,d,c)=>{if(c=aT(c),a<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!b)return c(null);if("AsyncGenerator"===b[Symbol.toStringTag])return aV(b,a,d,c);if("function"==typeof b[Symbol.asyncIterator])return aV(b[Symbol.asyncIterator](),a,d,c);var f,g,h=function(a){if(aR(a))return k=-1,l=(j=a).length,function(){return++k<l?{value:j[k],key:k}:null};var j,k,l,b,f,g,c,d,h,i,e=(b=a)[Symbol.iterator]&&b[Symbol.iterator]();return e?(f=e,g=-1,function(){var a=f.next();return a.done?null:(g++,{value:a.value,key:g})}):(d=(c=a)?Object.keys(c):[],h=-1,i=d.length,function b(){var a=d[++h];return"__proto__"===a?b():h<i?{value:c[a],key:a}:null})}(b),i=!1,j=!1,k=0,l=!1;function m(a,b){if(!j){if(k-=1,a)i=!0,c(a);else if(!1===a)i=!0,j=!0;else{if(b===aS||i&&k<=0)return i=!0,c(null);l||e()}}}function e(){for(l=!0;k<a&&!i;){var b=h();if(null===b){i=!0,k<=0&&c(null);return}k+=1,d(b.value,b.key,aU(m))}l=!1}e()},n=a(function(a,b,c,d){return aW(b)(a,aP(c),d)},4);function aX(c,e,b){b=aT(b);var a=0,g=0,{length:d}=c,h=!1;function f(a,c){!1===a&&(h=!0),!0!==h&&(a?b(a):(++g===d||c===aS)&&b(null))}for(0===d&&b(null);a<d;a++)e(c[a],a,aU(f))}function aY(a,b,c){return n(a,1/0,b,c)}var o=a(function(a,b,c){return(aR(a)?aX:aY)(a,aP(b),c)},3),p=a(function(a,b,c){return aQ(o,a,b,c)},3),R=m(p),q=a(function(a,b,c){return n(a,1,b,c)},3),r=a(function(a,b,c){return aQ(q,a,b,c)},3),S=m(r);let aZ=Symbol("promiseCallback");function a$(){let b,c;function a(d,...a){if(d)return c(d);b(a.length>1?a:a[0])}return a[aZ]=new Promise((a,d)=>{b=a,c=d}),a}function T(c,a,b){"number"!=typeof a&&(b=a,a=null),b=aT(b||a$());var d=Object.keys(c).length;if(!d)return b(null);a||(a=d);var f={},g=0,h=!1,i=!1,j=Object.create(null),k=[],l=[],m={};function n(a,b){k.push(()=>o(a,b))}function e(){if(!h){if(0===k.length&&0===g)return b(null,f);for(;k.length&&g<a;)k.shift()()}}function o(k,a){if(!i){var c=aU((c,...a)=>{if(g--,!1===c){h=!0;return}if(a.length<2&&([a]=a),c){var l,d={};if(Object.keys(f).forEach(a=>{d[a]=f[a]}),d[k]=a,i=!0,j=Object.create(null),h)return;b(c,d)}else f[k]=a,(j[k]||[]).forEach(a=>a()),e()});g++;var d=aP(a[a.length-1]);a.length>1?d(f,c):d(c)}}function p(b){var a=[];return Object.keys(c).forEach(d=>{let e=c[d];Array.isArray(e)&&e.indexOf(b)>=0&&a.push(d)}),a}return Object.keys(c).forEach(a=>{var b=c[a];if(!Array.isArray(b)){n(a,[b]),l.push(a);return}var d=b.slice(0,b.length-1),e=d.length;if(0===e){n(a,b),l.push(a);return}m[a]=e,d.forEach(f=>{if(!c[f])throw new Error("async.auto task `"+a+"` has a non-existent dependency `"+f+"` in "+d.join(", "));(function(b,c){var a=j[b];a||(a=j[b]=[]),a.push(c)})(f,()=>{0== --e&&n(a,b)})})}),function(){for(var a,b=0;l.length;)a=l.pop(),b++,p(a).forEach(a=>{0== --m[a]&&l.push(a)});if(b!==d)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),e(),b[aZ]}var a_=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,a0=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,a1=/,/,a2=/(=.+)?(\s*)$/;function U(a,b){var c={};return Object.keys(a).forEach(e=>{var d,b=a[e],f=aO(b),g=!f&&1===b.length||f&&0===b.length;if(Array.isArray(b))b=(d=[...b]).pop(),c[e]=d.concat(d.length>0?h:b);else if(g)c[e]=b;else{if(d=function(c){let b=function(b){let c="",a=0,d=b.indexOf("*/");for(;a<b.length;)if("/"===b[a]&&"/"===b[a+1]){let e=b.indexOf("\n",a);a=-1===e?b.length:e}else if(-1!==d&&"/"===b[a]&&"*"===b[a+1]){let f=b.indexOf("*/",a);-1!==f?(a=f+2,d=b.indexOf("*/",a)):(c+=b[a],a++)}else c+=b[a],a++;return c}(c.toString()),a=b.match(a_);if(a||(a=b.match(a0)),!a)throw new Error("could not parse args in autoInject\nSource:\n"+b);let[,d]=a;return d.replace(/\s/g,"").split(a1).map(a=>a.replace(a2,"").trim())}(b),0===b.length&&!f&&0===d.length)throw new Error("autoInject task functions require explicit parameters.");f||d.pop(),c[e]=d.concat(h)}function h(e,c){var a=d.map(a=>e[a]);a.push(c),aP(b)(...a)}}),T(c,b)}class a3{constructor(){this.head=this.tail=null,this.length=0}removeLink(a){return a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev,a.prev=a.next=null,this.length-=1,a}empty(){for(;this.head;)this.shift();return this}insertAfter(a,b){b.prev=a,b.next=a.next,a.next?a.next.prev=b:this.tail=b,a.next=b,this.length+=1}insertBefore(a,b){b.prev=a.prev,b.next=a,a.prev?a.prev.next=b:this.head=b,a.prev=b,this.length+=1}unshift(a){this.head?this.insertBefore(this.head,a):a4(this,a)}push(a){this.tail?this.insertAfter(this.tail,a):a4(this,a)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var a=this.head;a;)yield a.data,a=a.next}remove(b){for(var a=this.head;a;){var{next:c}=a;b(a)&&this.removeLink(a),a=c}return this}}function a4(a,b){a.length=1,a.head=a.tail=b}function a5(d,a,e){if(null==a)a=1;else if(0===a)throw new RangeError("Concurrency must not be zero");var f=aP(d),g=0,h=[];let i={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function j(a,b){return a?b?void(i[a]=i[a].filter(a=>a!==b)):i[a]=[]:Object.keys(i).forEach(a=>i[a]=[])}function k(a,...b){i[a].forEach(a=>a(...b))}var l=!1;function m(f,g,b,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");function d(c,...a){return c?b?i(c):h():a.length<=1?h(a[0]):void h(a)}c.started=!0;var h,i,e=c._createTaskItem(f,b?d:a||d);if(g?c._tasks.unshift(e):c._tasks.push(e),l||(l=!0,Q(()=>{l=!1,c.process()})),b||!a)return new Promise((a,b)=>{h=a,i=b})}function n(a){return function(b,...i){g-=1;for(var d=0,j=a.length;d<j;d++){var e=a[d],f=h.indexOf(e);0===f?h.shift():f>0&&h.splice(f,1),e.callback(b,...i),null!=b&&k("error",b,e.data)}g<=c.concurrency-c.buffer&&k("unsaturated"),c.idle()&&k("drain"),c.process()}}function o(a){return!!(0===a.length&&c.idle())&&(Q(()=>k("drain")),!0)}let b=a=>b=>{if(!b)return new Promise((b,c)=>{!function(a,c){let b=(...d)=>{j(a,b),c(...d)};i[a].push(b)}(a,(a,d)=>{if(a)return c(a);b(d)})});j(a),function(a,b){i[a].push(b)}(a,b)};var p=!1,c={_tasks:new a3,_createTaskItem:(a,b)=>({data:a,callback:b}),*[Symbol.iterator](){yield*c._tasks[Symbol.iterator]()},concurrency:a,payload:e,buffer:a/4,started:!1,paused:!1,push(a,b){if(Array.isArray(a)){if(o(a))return;return a.map(a=>m(a,!1,!1,b))}return m(a,!1,!1,b)},pushAsync(a,b){if(Array.isArray(a)){if(o(a))return;return a.map(a=>m(a,!1,!0,b))}return m(a,!1,!0,b)},kill(){j(),c._tasks.empty()},unshift(a,b){if(Array.isArray(a)){if(o(a))return;return a.map(a=>m(a,!0,!1,b))}return m(a,!0,!1,b)},unshiftAsync(a,b){if(Array.isArray(a)){if(o(a))return;return a.map(a=>m(a,!0,!0,b))}return m(a,!0,!0,b)},remove(a){c._tasks.remove(a)},process(){if(!p){for(p=!0;!c.paused&&g<c.concurrency&&c._tasks.length;){var d=[],e=[],a=c._tasks.length;c.payload&&(a=Math.min(a,c.payload));for(var i=0;i<a;i++){var b=c._tasks.shift();d.push(b),h.push(b),e.push(b.data)}g+=1,0===c._tasks.length&&k("empty"),g===c.concurrency&&k("saturated");var j=aU(n(d));f(e,j)}p=!1}},length:()=>c._tasks.length,running:()=>g,workersList:()=>h,idle:()=>c._tasks.length+g===0,pause(){c.paused=!0},resume(){!1!==c.paused&&(c.paused=!1,Q(c.process))}};return Object.defineProperties(c,{saturated:{writable:!1,value:b("saturated")},unsaturated:{writable:!1,value:b("unsaturated")},empty:{writable:!1,value:b("empty")},drain:{writable:!1,value:b("drain")},error:{writable:!1,value:b("error")}}),c}function V(a,b){return a5(a,1,b)}function W(a,b,c){return a5(a,b,c)}var d=a(function(b,d,c,a){a=aT(a);var e=aP(c);return q(b,(a,b,c)=>{e(d,a,(a,b)=>{d=b,c(a)})},b=>a(b,d))},4);function X(...a){var b=a.map(aP);return function(...a){var e=this,c=a[a.length-1];return"function"==typeof c?a.pop():c=a$(),d(b,a,(a,b,c)=>{b.apply(e,a.concat((a,...b)=>{c(a,b)}))},(a,b)=>c(a,...b)),c[aZ]}}function Y(...a){return X(...a.reverse())}var Z=a(function(a,b,c,d){return aQ(aW(b),a,c,d)},4),s=a(function(a,b,c,d){var e=aP(c);return Z(a,b,(a,b)=>{e(a,(a,...c)=>a?b(a):b(a,c))},(e,b)=>{for(var c=[],a=0;a<b.length;a++)b[a]&&(c=c.concat(...b[a]));return d(e,c)})},4),t=a(function(a,b,c){return s(a,1/0,b,c)},3),u=a(function(a,b,c){return s(a,1,b,c)},3);function $(...a){return function(...b){return b.pop()(null,...a)}}function a6(a,b){return(c,d,e,f)=>{var g,h=!1;let i=aP(e);c(d,(c,_,d)=>{i(c,(e,f)=>e|| !1===e?d(e):a(f)&&!g?(h=!0,g=b(!0,c),d(null,aS)):void d())},a=>{if(a)return f(a);f(null,h?g:b(!1))})}}var v=a(function(a,b,c){return a6(a=>a,(b,a)=>a)(o,a,b,c)},3),w=a(function(a,b,c,d){return a6(a=>a,(b,a)=>a)(aW(b),a,c,d)},4),x=a(function(a,b,c){return a6(a=>a,(b,a)=>a)(aW(1),a,b,c)},3);function y(a){return(b,...c)=>aP(b)(...c,(b,...c)=>{"object"==typeof console&&(b?console.error&&console.error(b):console[a]&&c.forEach(b=>console[a](b)))})}var aa=y("dir"),z=a(function(b,c,a){a=aU(a);var e,f=aP(b),g=aP(c);function h(b,...c){if(b)return a(b);!1!==b&&(e=c,g(...c,d))}function d(b,c){if(b)return a(b);if(!1!==b){if(!c)return a(null,...e);f(h)}}return d(null,!0)},3);function ab(a,b,c){let d=aP(b);return z(a,(...a)=>{let b=a.pop();d(...a,(a,c)=>b(a,!c))},c)}function a7(a){return(b,d,c)=>a(b,c)}var A=a(function(a,b,c){return o(a,a7(aP(b)),c)},3),B=a(function(a,b,c,d){return aW(b)(a,a7(aP(c)),d)},4),C=a(function(a,b,c){return B(a,1,b,c)},3);function ac(a){return aO(a)?a:function(...b){var d=b.pop(),c=!0;b.push((...a)=>{c?Q(()=>d(...a)):d(...a)}),a.apply(this,b),c=!1}}var D=a(function(a,b,c){return a6(a=>!a,a=>!a)(o,a,b,c)},3),E=a(function(a,b,c,d){return a6(a=>!a,a=>!a)(aW(b),a,c,d)},4),F=a(function(a,b,c){return a6(a=>!a,a=>!a)(q,a,b,c)},3);function a8(b,a,c,d){var e=new Array(a.length);b(a,(a,b,d)=>{c(a,(a,c)=>{e[b]=!!c,d(a)})},c=>{if(c)return d(c);for(var f=[],b=0;b<a.length;b++)e[b]&&f.push(a[b]);d(null,f)})}function a9(a,b,c,d){var e=[];a(b,(a,b,d)=>{c(a,(c,f)=>{if(c)return d(c);f&&e.push({index:b,value:a}),d(c)})},a=>{if(a)return d(a);d(null,e.sort((a,b)=>a.index-b.index).map(a=>a.value))})}function ba(b,a,c,d){return(aR(a)?a8:a9)(b,a,aP(c),d)}var G=a(function(a,b,c){return ba(o,a,b,c)},3),H=a(function(a,b,c,d){return ba(aW(b),a,c,d)},4),I=a(function(a,b,c){return ba(q,a,b,c)},3),ad=a(function(a,b){var d=aU(b),e=aP(ac(a));function c(a){if(a)return d(a);!1!==a&&e(c)}return c()},2),ae=a(function(a,b,c,d){var e=aP(c);return Z(a,b,(a,b)=>{e(a,(c,d)=>c?b(c):b(c,{key:d,val:a}))},(g,b)=>{for(var c={},{hasOwnProperty:h}=Object.prototype,a=0;a<b.length;a++)if(b[a]){var{key:e}=b[a],{val:f}=b[a];h.call(c,e)?c[e].push(f):c[e]=[f]}return d(g,c)})},4);function af(a,b,c){return ae(a,1/0,b,c)}function ag(a,b,c){return ae(a,1,b,c)}var ah=y("log"),ai=a(function(b,c,d,a){a=aT(a);var e={},f=aP(d);return aW(c)(b,(a,b,c)=>{f(a,b,(a,d)=>{if(a)return c(a);e[b]=d,c(a)})},b=>a(b,e))},4);function aj(a,b,c){return ai(a,1/0,b,c)}function ak(a,b,c){return ai(a,1,b,c)}function al(b,d=a=>a){var c=Object.create(null),e=Object.create(null),f=aP(b),a=aL((b,g)=>{var a=d(...b);a in c?Q(()=>g(null,...c[a])):a in e?e[a].push(g):(e[a]=[g],f(...b,(d,...f)=>{d||(c[a]=f);var g=e[a];delete e[a];for(var b=0,h=g.length;b<h;b++)g[b](d,...f)}))});return a.memo=c,a.unmemoized=b,a}g=i?b.nextTick:h?setImmediate:j;var am=k(g),bb=a((b,a,c)=>{var d=aR(a)?[]:{};b(a,(a,b,c)=>{aP(a)((e,...a)=>{a.length<2&&([a]=a),d[b]=a,c(e)})},a=>c(a,d))},3);function an(a,b){return bb(o,a,b)}function ao(a,b,c){return bb(aW(b),a,c)}function ap(a,b){var c=aP(a);return a5((a,b)=>{c(a[0],b)},b,1)}class bc{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(a){let b;for(;a>0&&bf(this.heap[a],this.heap[b=be(a)]);){let c=this.heap[a];this.heap[a]=this.heap[b],this.heap[b]=c,a=b}}percDown(b){let a;for(;(a=bd(b))<this.heap.length&&(a+1<this.heap.length&&bf(this.heap[a+1],this.heap[a])&&(a+=1),!bf(this.heap[b],this.heap[a]));){let c=this.heap[b];this.heap[b]=this.heap[a],this.heap[a]=c,b=a}}push(a){a.pushCount=++this.pushCount,this.heap.push(a),this.percUp(this.heap.length-1)}unshift(a){return this.heap.push(a)}shift(){let[a]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),a}toArray(){return[...this]}*[Symbol.iterator](){for(let a=0;a<this.heap.length;a++)yield this.heap[a].data}remove(d){let b=0;for(let a=0;a<this.heap.length;a++)!d(this.heap[a])&&(this.heap[b]=this.heap[a],b++);this.heap.splice(b);for(let c=be(this.heap.length-1);c>=0;c--)this.percDown(c);return this}}function bd(a){return(a<<1)+1}function be(a){return(a+1>>1)-1}function bf(a,b){return a.priority!==b.priority?a.priority<b.priority:a.pushCount<b.pushCount}function aq(b,c){var a=ap(b,c),{push:d,pushAsync:e}=a;function f(a,b){return Array.isArray(a)?a.map(a=>({data:a,priority:b})):{data:a,priority:b}}return a._tasks=new bc,a._createTaskItem=({data:a,priority:b},c)=>({data:a,priority:b,callback:c}),a.push=function(a,b=0,c){return d(f(a,b),c)},a.pushAsync=function(a,b=0,c){return e(f(a,b),c)},delete a.unshift,delete a.unshiftAsync,a}var ar=a(function(b,a){if(a=aT(a),!Array.isArray(b))return a(new TypeError("First argument to race must be an array of functions"));if(!b.length)return a();for(var c=0,d=b.length;c<d;c++)aP(b[c])(a)},2);function J(a,b,c,e){return d([...a].reverse(),b,c,e)}function as(a){var b=aP(a);return aL(function(a,c){return a.push((d,...a)=>{let b={};if(d&&(b.error=d),a.length>0){var e=a;a.length<=1&&([e]=a),b.value=e}c(null,b)}),b.apply(this,a)})}function at(a){var b;return Array.isArray(a)?b=a.map(as):(b={},Object.keys(a).forEach(c=>{b[c]=as.call(this,a[c])})),b}function bg(a,b,c,d){let e=aP(c);return ba(a,b,(a,b)=>{e(a,(a,c)=>{b(a,!c)})},d)}var au=a(function(a,b,c){return bg(o,a,b,c)},3),av=a(function(a,b,c,d){return bg(aW(b),a,c,d)},4),aw=a(function(a,b,c){return bg(q,a,b,c)},3);function bh(a){return function(){return a}}function ax(c,a,b){var d={times:5,intervalFunc:bh(0)};if(arguments.length<3&&"function"==typeof c?(b=a||a$(),a=c):(bi(d,c),b=b||a$()),"function"!=typeof a)throw new Error("Invalid arguments for async.retry");var f=aP(a),g=1;function e(){f((a,...c)=>{!1!==a&&(a&&(g++)<d.times&&("function"!=typeof d.errorFilter||d.errorFilter(a))?setTimeout(e,d.intervalFunc(g-1)):b(a,...c))})}return e(),b[aZ]}function bi(b,a){if("object"==typeof a)b.times=+a.times||5,b.intervalFunc="function"==typeof a.interval?a.interval:bh(+a.interval||0),b.errorFilter=a.errorFilter;else if("number"==typeof a||"string"==typeof a)b.times=+a||5;else throw new Error("Invalid arguments for async.retry")}function ay(b,a){a||(a=b,b=null);let c=b&&b.arity||a.length;aO(a)&&(c+=1);var d=aP(a);return aL((e,a)=>{function f(a){d(...e,a)}return(e.length<c-1||null==a)&&(e.push(a),a=a$()),b?ax(b,f,a):ax(f,a),a[aZ]})}function az(a,b){return bb(q,a,b)}var K=a(function(a,b,c){return a6(Boolean,a=>a)(o,a,b,c)},3),L=a(function(a,b,c,d){return a6(Boolean,a=>a)(aW(b),a,c,d)},4),M=a(function(a,b,c){return a6(Boolean,a=>a)(q,a,b,c)},3),aA=a(function(a,b,c){var d=aP(b);return p(a,(a,b)=>{d(a,(c,d)=>{if(c)return b(c);b(c,{value:a,criteria:d})})},(a,b)=>{if(a)return c(a);c(null,b.sort(e).map(a=>a.value))});function e(c,d){var a=c.criteria,b=d.criteria;return a<b?-1:a>b?1:0}},3);function aB(a,b,c){var d=aP(a);return aL((e,g)=>{var f,h=!1;e.push((...a)=>{h||(g(...a),clearTimeout(f))}),f=setTimeout(function(){var d=a.name||"anonymous",b=new Error('Callback function "'+d+'" timed out.');b.code="ETIMEDOUT",c&&(b.info=c),h=!0,g(b)},b),d(...e)})}function aC(a,b,c,d){var e=aP(c);return Z(function(a){for(var b=Array(a);a--;)b[a]=a;return b}(a),b,e,d)}function aD(a,b,c){return aC(a,1/0,b,c)}function aE(a,b,c){return aC(a,1,b,c)}function aF(d,b,c,a){arguments.length<=3&&"function"==typeof b&&(a=c,c=b,b=Array.isArray(d)?[]:{}),a=aT(a||a$());var e=aP(c);return o(d,(a,c,d)=>{e(b,a,c,d)},c=>a(c,b)),a[aZ]}var aG=a(function(a,b){var c,d=null;return C(a,(a,b)=>{aP(a)((a,...e)=>{if(!1===a)return b(a);e.length<2?[c]=e:c=e,d=a,b(a?null:{})})},()=>b(d,c))});function aH(a){return(...b)=>(a.unmemoized||a)(...b)}var N=a(function(b,c,a){a=aU(a);var f=aP(c),d=aP(b),g=[];function h(b,...c){if(b)return a(b);g=c,!1!==b&&d(e)}function e(b,c){if(b)return a(b);if(!1!==b){if(!c)return a(null,...g);f(h)}}return d(e)},3);function aI(a,b,c){let d=aP(a);return N(a=>d((b,c)=>a(b,!c)),b,c)}var aJ=a(function(b,a){if(a=aT(a),!Array.isArray(b))return a(new Error("First argument to waterfall must be an array of functions"));if(!b.length)return a();var d=0;function c(a){aP(b[d++])(...a,aU(e))}function e(e,...f){if(!1!==e){if(e||d===b.length)return a(e,...f);c(f)}}c([])});let bj={apply:O,applyEach:R,applyEachSeries:S,asyncify:l,auto:T,autoInject:U,cargo:V,cargoQueue:W,compose:Y,concat:t,concatLimit:s,concatSeries:u,constant:$,detect:v,detectLimit:w,detectSeries:x,dir:aa,doUntil:ab,doWhilst:z,each:A,eachLimit:B,eachOf:o,eachOfLimit:n,eachOfSeries:q,eachSeries:C,ensureAsync:ac,every:D,everyLimit:E,everySeries:F,filter:G,filterLimit:H,filterSeries:I,forever:ad,groupBy:af,groupByLimit:ae,groupBySeries:ag,log:ah,map:p,mapLimit:Z,mapSeries:r,mapValues:aj,mapValuesLimit:ai,mapValuesSeries:ak,memoize:al,nextTick:am,parallel:an,parallelLimit:ao,priorityQueue:aq,queue:ap,race:ar,reduce:d,reduceRight:J,reflect:as,reflectAll:at,reject:au,rejectLimit:av,rejectSeries:aw,retry:ax,retryable:ay,seq:X,series:az,setImmediate:Q,some:K,someLimit:L,someSeries:M,sortBy:aA,timeout:aB,times:aD,timesLimit:aC,timesSeries:aE,transform:aF,tryEach:aG,unmemoize:aH,until:aI,waterfall:aJ,whilst:N,all:D,allLimit:E,allSeries:F,any:K,anyLimit:L,anySeries:M,find:v,findLimit:w,findSeries:x,flatMap:t,flatMapLimit:s,flatMapSeries:u,forEach:A,forEachSeries:C,forEachLimit:B,forEachOf:o,forEachOfSeries:q,forEachOfLimit:n,inject:d,foldl:d,foldr:J,select:G,selectLimit:H,selectSeries:I,wrapSync:l,during:N,doDuring:z}},"./package.json"(a){"use strict";a.exports=JSON.parse('{"name":"web-arduino-uploader","version":"1.1.2","main":"dist/index.ts","types":"dist/index.d.ts","license":"MIT","author":{"name":"David Buezas","email":"david.buezas@gmail.com","url":"https://github.com/dbuezas/arduino-web-uploader/"},"scripts":{"prepublish":"npm run build","build":"tsc && webpack"},"devDependencies":{"@types/node":"^14.18.22","@typescript-eslint/eslint-plugin":"^4.5.0","@typescript-eslint/parser":"^4.5.0","buffer":"^5.6.1","eslint":"^7.12.0","prettier":"^2.1.2","process":"^0.11.10","stream-browserify":"^3.0.0","typescript":"^4.0.3","webpack":"^5.74.0","webpack-cli":"^4.10.0"},"dependencies":{"async":"^3.2.0","intel-hex":"^0.1.2","readable-web-to-node-stream":"^2.0.0","stk500":"github:dbuezas/js-stk500v1#v3.0.0"}}')}},c={};function a(e){var f=c[e];if(void 0!==f)return f.exports;var d=c[e]={exports:{}};return b[e].call(d.exports,d,d.exports,a),d.exports}a.d=(d,c)=>{for(var b in c)a.o(c,b)&&!a.o(d,b)&&Object.defineProperty(d,b,{enumerable:!0,get:c[b]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"==typeof window)return window}}(),a.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),a.r=a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var d={};(()=>{"use strict";var b=d;/*!**********************!*\
      !*** ./dist/test.js ***!
      \**********************/ Object.defineProperty(b,"__esModule",{value:!0});let c=a(/*! ./ */ "./dist/index.js");document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[arduino-uploader]").forEach(a=>{a.addEventListener("click",async()=>{if(!navigator.serial)return alert("Error: Web Serial needs to be available. Please use Chrome, Opera, or Edge, and make sure Web Serial is enabled.");let e=a.getAttribute("hex-href"),f=a.getAttribute("board"),g=a.hasAttribute("verify"),b=a.querySelector(".upload-progress"),h=a=>{b.innerHTML=`${a}%`},d={};try{d={filters:JSON.parse(a.getAttribute("port-filters"))||[]}}catch(j){}try{await c.upload(c.boards[f],e,h,g,d)}catch(i){throw b.innerHTML="Error!",alert("Error Uploading! Check the board and port selections."),i}b.innerHTML="Done!",console.log("Upload successful!\nThanks to: https://github.com/dbuezas/arduino-web-uploader")})})})})()})()